<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Class: BigRecord::Embedded</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo; 
    <a title="BigRecord" href="../BigRecord.html">BigRecord</a>
     &raquo; 
    <span class="title">Embedded</span>
  
</div>

      <div id="search">
  <a id="class_list_link" href="#">Namespace List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: BigRecord::Embedded 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a title="BigRecord::AbstractBase" href="AbstractBase.html">BigRecord::AbstractBase</a></span>
      
        <ul class="fullTree">
          <li><a title="Object" href="../Object.html">Object</a></li>
          
            <li class="next"><a title="BigRecord::AbstractBase" href="AbstractBase.html">BigRecord::AbstractBase</a></li>
          
            <li class="next">BigRecord::Embedded</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/big_record/embedded.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>Embedded Records</h1>
<p>
Since a single column in a column-oriented database is perfectly suited to
handle large amounts of data, BigRecord gives you the option to store
entire records within a single column of another <tt><a title="BigRecord::Base" href="Base.html">BigRecord::Base</a></tt> record.
</p>
<p>
These are known as Embedded records, and they behave similarly to
<tt><a title="BigRecord::Base" href="Base.html">BigRecord::Base</a></tt> objects, except that their data is physically stored
within another <tt><a title="BigRecord::Base" href="Base.html">BigRecord::Base</a></tt> record, and they don&#8217;t exist unless
associated with one. Furthermore, they don&#8217;t possess any find or
querying functionality.
</p>
<p>
So what are the benefits of Embedded records?
</p>
<ul>
<li>Cleaner organization of models

</li>
<li>Avoids the need to create entire tables and associations for models that
exist only in the context of another model.

</li>
<li>Allows more complicated functionality to be encompassed within an embedded
record, instead of in a parent model.

</li>
</ul>
<p>
All of this has been very abstract so far, therefore examples are in order.
</p>
<h2>Examples</h2>
<p>
Let&#8217;s say we start off with the following arbitrarily created models:
</p>
<p>
app/model/book.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Book constant id'>Book</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:title</span><span class='comma token'>,</span>       <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:author</span><span class='comma token'>,</span>      <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
  <span class='end end kw'>end</span>
</pre>
<p>
app/model/company.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Company constant id'>Company</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>        <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:address</span><span class='comma token'>,</span>     <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Now, let&#8217;s say we want the ability to create and associate weblinks
with each of these models. This is a trivial modification if all we do is
create a new column in each model called &quot;weblink&quot; (or something
similar), and have a string that stores a URL.
</p>
<p>
However, what if we wanted these weblinks to have more metadata attached
and more complex functionality added to it? Then our only choice is to
create a new model called WebLink (for example), with its own table, set of
attributes and methods. Then we have our Book and Company models associate
to these newly created WebLink models, giving us something like this:
</p>
<p>
app/model/web_link.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='WebLink constant id'>WebLink</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>         <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:url</span><span class='comma token'>,</span>          <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span>  <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:submitted_by</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:book_id</span><span class='comma token'>,</span>      <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:company_id</span><span class='comma token'>,</span>   <span class='symbol val'>:string</span>

    <span class='comment val'># Could use a polymorphic association here, of course.</span>
    <span class='belongs_to_bigrecord identifier id'>belongs_to_bigrecord</span> <span class='symbol val'>:book</span><span class='comma token'>,</span> <span class='symbol val'>:foreign_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;attribute:book_id&quot;</span>
    <span class='belongs_to_bigrecord identifier id'>belongs_to_bigrecord</span> <span class='symbol val'>:company</span><span class='comma token'>,</span> <span class='symbol val'>:foreign_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;attribute:company_id&quot;</span>

    <span class='comment val'># other methods ...</span>
  <span class='end end kw'>end</span>
</pre>
<p>
and likewise an association to WebLink from the Book and Company models.
</p>
<p>
Now notice the problem here? A simple concept like adding a WebLink with
some metadata has increased the model logic and created some unnecessary
associations. In this situation, a WebLink doesn&#8217;t need to exist
except when associated to a certain model. Therefore this association
should be implicit somehow.
</p>
<p>
Enter Embedded records. We will now instead define WebLink as follows:
</p>
<p>
app/model/web_link.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='WebLink constant id'>WebLink</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Embedded constant id'>Embedded</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>         <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:url</span><span class='comma token'>,</span>          <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span>  <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:submitted_by</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>

    <span class='comment val'># other methods ...</span>
  <span class='end end kw'>end</span>
</pre>
<p>
And modify our Base records like so:
</p>
<p>
app/model/book.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Book constant id'>Book</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:title</span><span class='comma token'>,</span>       <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:author</span><span class='comma token'>,</span>      <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:web_link</span><span class='comma token'>,</span>    <span class='string val'>'WebLink'</span>
  <span class='end end kw'>end</span>
</pre>
<p>
app/model/company.rb:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Company constant id'>Company</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>        <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:address</span><span class='comma token'>,</span>     <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
    <span class='column identifier id'>column</span> <span class='symbol val'>:web_link</span><span class='comma token'>,</span>    <span class='string val'>'WebLink'</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Now we can encompass any WebLink specific attributes and methods within the
WebLink embedded class, and use them with any other Base model.
</p>
<p>
To use WebLink now, we treat it as though it were a regular model, except
that we don&#8217;t execute saves on it. For example:
</p>
<pre class="code">
  <span class='rshft op'>&gt;&gt;</span> <span class='amazon_link identifier id'>amazon_link</span> <span class='assign token'>=</span> <span class='WebLink constant id'>WebLink</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Amazon Link to Book&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:url</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://amazon.com/some/book&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:description</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Amazon sells this book for cheap!&quot;</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='comment val'>#&lt;WebLink created_at: &quot;2009-11-12 17:11:57&quot;, name: &quot;Amazon Link to Book&quot;, url: &quot;http://amazon.com/some/book&quot;, description: &quot;Amazon sells this book for cheap!&quot;, submitted_by: nil, id: &quot;2b619a68-e462-475d-8e04-01ba2aace11a&quot;&gt;</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='amazon_link identifier id'>amazon_link</span><span class='dot token'>.</span><span class='save identifier id'>save</span>
  <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='NotImplemented constant id'>NotImplemented</span><span class='colon op'>:</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='NotImplemented constant id'>NotImplemented</span>
  <span class='comment val'># =&gt; [...]</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='book identifier id'>book</span> <span class='assign token'>=</span> <span class='Book constant id'>Book</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:first</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; [...]</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='book identifier id'>book</span><span class='dot token'>.</span><span class='web_link identifier id'>web_link</span> <span class='assign token'>=</span> <span class='amazon_link identifier id'>amazon_link</span>
  <span class='rshft op'>&gt;&gt;</span> <span class='book identifier id'>book</span><span class='dot token'>.</span><span class='save identifier id'>save</span>
</pre>
<p>
Now any subsequent access to that book object we just saved to will have a
WebLink record available with it.
</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <a title="BigRecord::AbstractBase" href="AbstractBase.html">BigRecord::AbstractBase</a></h3>
  <p class="inherited"><a title="ID_FIELD_SEPARATOR" href="AbstractBase.html#ID_FIELD_SEPARATOR-constant">ID_FIELD_SEPARATOR</a>, <a title="ID_WHITE_SPACE_CHAR" href="AbstractBase.html#ID_WHITE_SPACE_CHAR-constant">ID_WHITE_SPACE_CHAR</a></p>


  <h2>Method Summary</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature"><a title="base_class (class method)" href="#base_class-class_method">+ (Object) <strong>base_class</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="connection (class method)" href="#connection-class_method">+ (Object) <strong>connection</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Borrow the default connection of BigRecord.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="default_columns (class method)" href="#default_columns-class_method">+ (Object) <strong>default_columns</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="hide_to_users (class method)" href="#hide_to_users-class_method">+ (Object) <strong>hide_to_users</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="inherited (class method)" href="#inherited-class_method">+ (Object) <strong>inherited</strong>(child) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="pretty_name (class method)" href="#pretty_name-class_method">+ (Object) <strong>pretty_name</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Class attribute that holds the name of the embedded type for dispaly.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="primary_key (class method)" href="#primary_key-class_method">+ (Object) <strong>primary_key</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="set_pretty_name (class method)" href="#set_pretty_name-class_method">+ (Object) <strong>set_pretty_name</strong>(new_name) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="show_to_users? (class method)" href="#show_to_users%3F-class_method">+ (Object) <strong>show_to_users?</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="store_primary_key? (class method)" href="#store_primary_key%3F-class_method">+ (Object) <strong>store_primary_key?</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#connection (instance method)" href="#connection-instance_method">- (Object) <strong>connection</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#id (instance method)" href="#id-instance_method">- (Object) <strong>id</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#initialize (instance method)" href="#initialize-instance_method">- (Embedded) <strong>initialize</strong>(attrs = nil) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
A new instance of <tt>Embedded</tt>.

</span>
  
</li>

    
  </ul>


  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a title="BigRecord::AbstractBase" href="AbstractBase.html">BigRecord::AbstractBase</a></h3>
  <p class="inherited"><a title="#==" href="AbstractBase.html#%3D%3D-instance_method">#==</a>, <a title="===" href="AbstractBase.html#%3D%3D%3D-class_method">===</a>, <a title="#[]" href="AbstractBase.html#%5B%5D-instance_method">#[]</a>, <a title="#[]=" href="AbstractBase.html#%5B%5D%3D-instance_method">#[]=</a>, <a title="accessible_attributes" href="AbstractBase.html#accessible_attributes-class_method">accessible_attributes</a>, <a title="alias_attribute" href="AbstractBase.html#alias_attribute-class_method">alias_attribute</a>, <a title="#all_attributes_loaded=" href="AbstractBase.html#all_attributes_loaded%3D-instance_method">#all_attributes_loaded=</a>, <a title="#all_attributes_loaded?" href="AbstractBase.html#all_attributes_loaded%3F-instance_method">#all_attributes_loaded?</a>, <a title="#assign_multiparameter_attributes" href="AbstractBase.html#assign_multiparameter_attributes-instance_method">#assign_multiparameter_attributes</a>, <a title="attr_accessible" href="AbstractBase.html#attr_accessible-class_method">attr_accessible</a>, <a title="attr_create_accessible" href="AbstractBase.html#attr_create_accessible-class_method">attr_create_accessible</a>, <a title="attr_protected" href="AbstractBase.html#attr_protected-class_method">attr_protected</a>, <a title="attr_readonly" href="AbstractBase.html#attr_readonly-class_method">attr_readonly</a>, <a title="#attribute=" href="AbstractBase.html#attribute%3D-instance_method">#attribute=</a>, <a title="#attribute?" href="AbstractBase.html#attribute%3F-instance_method">#attribute?</a>, <a title="#attribute_before_type_cast" href="AbstractBase.html#attribute_before_type_cast-instance_method">#attribute_before_type_cast</a>, <a title="#attribute_for_inspect" href="AbstractBase.html#attribute_for_inspect-instance_method">#attribute_for_inspect</a>, <a title="#attribute_names" href="AbstractBase.html#attribute_names-instance_method">#attribute_names</a>, <a title="#attribute_present?" href="AbstractBase.html#attribute_present%3F-instance_method">#attribute_present?</a>, <a title="#attributes" href="AbstractBase.html#attributes-instance_method">#attributes</a>, <a title="#attributes=" href="AbstractBase.html#attributes%3D-instance_method">#attributes=</a>, <a title="#attributes_from_column_definition" href="AbstractBase.html#attributes_from_column_definition-instance_method">#attributes_from_column_definition</a>, <a title="#attributes_protected_by_default" href="AbstractBase.html#attributes_protected_by_default-instance_method">#attributes_protected_by_default</a>, <a title="benchmark" href="AbstractBase.html#benchmark-class_method">benchmark</a>, <a title="#clone_in_persistence_format" href="AbstractBase.html#clone_in_persistence_format-instance_method">#clone_in_persistence_format</a>, <a title="column" href="AbstractBase.html#column-class_method">column</a>, <a title="#column_for_attribute" href="AbstractBase.html#column_for_attribute-instance_method">#column_for_attribute</a>, <a title="column_methods_hash" href="AbstractBase.html#column_methods_hash-class_method">column_methods_hash</a>, <a title="column_names" href="AbstractBase.html#column_names-class_method">column_names</a>, <a title="columns" href="AbstractBase.html#columns-class_method">columns</a>, <a title="columns_hash" href="AbstractBase.html#columns_hash-class_method">columns_hash</a>, <a title="compute_type" href="AbstractBase.html#compute_type-class_method">compute_type</a>, <a title="content_columns" href="AbstractBase.html#content_columns-class_method">content_columns</a>, <a title="#convert_number_column_value" href="AbstractBase.html#convert_number_column_value-instance_method">#convert_number_column_value</a>, <a title="#create" href="AbstractBase.html#create-instance_method">#create</a>, <a title="create_accessible_attributes" href="AbstractBase.html#create_accessible_attributes-class_method">create_accessible_attributes</a>, <a title="create_column" href="AbstractBase.html#create_column-class_method">create_column</a>, <a title="#create_or_update" href="AbstractBase.html#create_or_update-instance_method">#create_or_update</a>, <a title="default_views" href="AbstractBase.html#default_views-class_method">default_views</a>, <a title="#define_question_method" href="AbstractBase.html#define_question_method-instance_method">#define_question_method</a>, <a title="#define_read_method" href="AbstractBase.html#define_read_method-instance_method">#define_read_method</a>, <a title="#define_read_methods" href="AbstractBase.html#define_read_methods-instance_method">#define_read_methods</a>, <a title="#deserialize" href="AbstractBase.html#deserialize-instance_method">#deserialize</a>, <a title="#destroy" href="AbstractBase.html#destroy-instance_method">#destroy</a>, <a title="#eql?" href="AbstractBase.html#eql%3F-instance_method">#eql?</a>, <a title="#evaluate_read_method" href="AbstractBase.html#evaluate_read_method-instance_method">#evaluate_read_method</a>, <a title="#execute_callstack_for_multiparameter_attributes" href="AbstractBase.html#execute_callstack_for_multiparameter_attributes-instance_method">#execute_callstack_for_multiparameter_attributes</a>, <a title="#extract_callstack_for_multiparameter_attributes" href="AbstractBase.html#extract_callstack_for_multiparameter_attributes-instance_method">#extract_callstack_for_multiparameter_attributes</a>, <a title="#find_parameter_position" href="AbstractBase.html#find_parameter_position-instance_method">#find_parameter_position</a>, <a title="#freeze" href="AbstractBase.html#freeze-instance_method">#freeze</a>, <a title="#frozen?" href="AbstractBase.html#frozen%3F-instance_method">#frozen?</a>, <a title="#generate_new_id" href="AbstractBase.html#generate_new_id-instance_method">#generate_new_id</a>, <a title="#has_attribute?" href="AbstractBase.html#has_attribute%3F-instance_method">#has_attribute?</a>, <a title="#hash" href="AbstractBase.html#hash-instance_method">#hash</a>, <a title="#human_attribute_name" href="AbstractBase.html#human_attribute_name-instance_method">#human_attribute_name</a>, <a title="human_attribute_name" href="AbstractBase.html#human_attribute_name-class_method">human_attribute_name</a>, <a title="#id=" href="AbstractBase.html#id%3D-instance_method">#id=</a>, <a title="#inspect" href="AbstractBase.html#inspect-instance_method">#inspect</a>, <a title="instantiate" href="AbstractBase.html#instantiate-class_method">instantiate</a>, <a title="invalidate_columns" href="AbstractBase.html#invalidate_columns-class_method">invalidate_columns</a>, <a title="invalidate_views" href="AbstractBase.html#invalidate_views-class_method">invalidate_views</a>, <a title="#log_protected_attribute_removal" href="AbstractBase.html#log_protected_attribute_removal-instance_method">#log_protected_attribute_removal</a>, <a title="#method_missing" href="AbstractBase.html#method_missing-instance_method">#method_missing</a>, <a title="#new_record?" href="AbstractBase.html#new_record%3F-instance_method">#new_record?</a>, <a title="#preinitialize" href="AbstractBase.html#preinitialize-instance_method">#preinitialize</a>, <a title="protected_attributes" href="AbstractBase.html#protected_attributes-class_method">protected_attributes</a>, <a title="quote_value" href="AbstractBase.html#quote_value-class_method">quote_value</a>, <a title="#quote_value" href="AbstractBase.html#quote_value-instance_method">#quote_value</a>, <a title="#quoted_id" href="AbstractBase.html#quoted_id-instance_method">#quoted_id</a>, <a title="#read_attribute" href="AbstractBase.html#read_attribute-instance_method">#read_attribute</a>, <a title="#read_attribute_before_type_cast" href="AbstractBase.html#read_attribute_before_type_cast-instance_method">#read_attribute_before_type_cast</a>, <a title="read_methods" href="AbstractBase.html#read_methods-class_method">read_methods</a>, <a title="#readonly!" href="AbstractBase.html#readonly%21-instance_method">#readonly!</a>, <a title="#readonly?" href="AbstractBase.html#readonly%3F-instance_method">#readonly?</a>, <a title="readonly_attributes" href="AbstractBase.html#readonly_attributes-class_method">readonly_attributes</a>, <a title="#reload" href="AbstractBase.html#reload-instance_method">#reload</a>, <a title="#remove_attributes_protected_from_mass_assignment" href="AbstractBase.html#remove_attributes_protected_from_mass_assignment-instance_method">#remove_attributes_protected_from_mass_assignment</a>, <a title="#remove_readonly_attributes" href="AbstractBase.html#remove_readonly_attributes-instance_method">#remove_readonly_attributes</a>, <a title="reset_subclasses" href="AbstractBase.html#reset_subclasses-class_method">reset_subclasses</a>, <a title="#respond_to?" href="AbstractBase.html#respond_to%3F-instance_method">#respond_to?</a>, <a title="#safe_attributes=" href="AbstractBase.html#safe_attributes%3D-instance_method">#safe_attributes=</a>, <a title="#save" href="AbstractBase.html#save-instance_method">#save</a>, <a title="#save!" href="AbstractBase.html#save%21-instance_method">#save!</a>, <a title="silence" href="AbstractBase.html#silence-class_method">silence</a>, <a title="subclasses" href="AbstractBase.html#subclasses-class_method">subclasses</a>, <a title="#to_s" href="AbstractBase.html#to_s-instance_method">#to_s</a>, <a title="#type_cast_attribute_value" href="AbstractBase.html#type_cast_attribute_value-instance_method">#type_cast_attribute_value</a>, <a title="undecorated_table_name" href="AbstractBase.html#undecorated_table_name-class_method">undecorated_table_name</a>, <a title="#update" href="AbstractBase.html#update-instance_method">#update</a>, <a title="#update_attribute" href="AbstractBase.html#update_attribute-instance_method">#update_attribute</a>, <a title="#update_attributes" href="AbstractBase.html#update_attributes-instance_method">#update_attributes</a>, <a title="#update_attributes!" href="AbstractBase.html#update_attributes%21-instance_method">#update_attributes!</a>, <a title="#update_bigrecord" href="AbstractBase.html#update_bigrecord-instance_method">#update_bigrecord</a>, <a title="#validate_attribute_type" href="AbstractBase.html#validate_attribute_type-instance_method">#validate_attribute_type</a>, <a title="#validate_attributes_schema" href="AbstractBase.html#validate_attributes_schema-instance_method">#validate_attributes_schema</a>, <a title="#write_attribute" href="AbstractBase.html#write_attribute-instance_method">#write_attribute</a></p>
<div id="constructor_details">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a title="Embedded" href="">Embedded</a></tt>) <strong>initialize</strong>(attrs = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of <tt>Embedded</tt>
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a title="Embedded" href="">Embedded</a></tt>)</span>
      
      
      
      
        &mdash;
        
a new instance of <tt>Embedded</tt>


      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 128</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span>
  <span class='comment val'># Regenerate the id unless it's already there</span>
  <span class='comment val'># (i.e. we're instantiating an existing property)</span>
  <span class='@attributes ivar id'>@attributes</span><span class='lbrack token'>[</span><span class='string val'>&quot;id&quot;</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='generate_id identifier id'>generate_id</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <a title="BigRecord::AbstractBase" href="AbstractBase.html#method_missing-instance_method">BigRecord::AbstractBase</a>
    
  </p>
  
</div>


  <div id="method_details">
    <h2>Method Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="base_class-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>base_class</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 165</span>

<span class='def def kw'>def</span> <span class='base_class identifier id'>base_class</span>
  <span class='lparen token'>(</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Embedded constant id'>Embedded</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='self self kw'>self</span> <span class='colon op'>:</span> <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='base_class identifier id'>base_class</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="connection-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>connection</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Borrow the default connection of BigRecord
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 161</span>

<span class='def def kw'>def</span> <span class='connection identifier id'>connection</span>
  <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="default_columns-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>default_columns</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 191</span>

<span class='def def kw'>def</span> <span class='default_columns identifier id'>default_columns</span>
  <span class='lbrace token'>{</span><span class='primary_key identifier id'>primary_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='Column constant id'>Column</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='primary_key identifier id'>primary_key</span><span class='comma token'>,</span> <span class='string val'>'string'</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hide_to_users-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>hide_to_users</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 178</span>

<span class='def def kw'>def</span> <span class='hide_to_users identifier id'>hide_to_users</span>
  <span class='@hide_to_user ivar id'>@hide_to_user</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inherited-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>inherited</strong>(child) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 186</span>

<span class='def def kw'>def</span> <span class='inherited identifier id'>inherited</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='set_pretty_name identifier id'>set_pretty_name</span> <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;::&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pretty_name-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>pretty_name</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Class attribute that holds the name of the embedded type for dispaly
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 170</span>

<span class='def def kw'>def</span> <span class='pretty_name identifier id'>pretty_name</span>
  <span class='@pretty_name ivar id'>@pretty_name</span> <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="primary_key-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>primary_key</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 156</span>

<span class='def def kw'>def</span> <span class='primary_key identifier id'>primary_key</span>
  <span class='string val'>&quot;id&quot;</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_pretty_name-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>set_pretty_name</strong>(new_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 174</span>

<span class='def def kw'>def</span> <span class='set_pretty_name identifier id'>set_pretty_name</span> <span class='new_name identifier id'>new_name</span>
  <span class='@pretty_name ivar id'>@pretty_name</span> <span class='assign token'>=</span> <span class='new_name identifier id'>new_name</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="show_to_users?-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>show_to_users?</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 182</span>

<span class='def def kw'>def</span> <span class='show_to_users? fid id'>show_to_users?</span>
  <span class='notop op'>!</span><span class='@hide_to_user ivar id'>@hide_to_user</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="store_primary_key?-class_method">
  
    + (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>store_primary_key?</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 152</span>

<span class='def def kw'>def</span> <span class='store_primary_key? fid id'>store_primary_key?</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="connection-instance_method">
  
    - (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>connection</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 135</span>

<span class='def def kw'>def</span> <span class='connection identifier id'>connection</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="id-instance_method">
  
    - (<tt><a title="Object" href="../Object.html">Object</a></tt>) <strong>id</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/embedded.rb', line 139</span>

<span class='def def kw'>def</span> <span class='id identifier id'>id</span>
  <span class='super super kw'>super</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='assign token'>=</span> <span class='generate_id identifier id'>generate_id</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov 26 18:22:26 2009 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.4.0 (ruby-1.8.7).
</div>

  </body>
</html>