<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Class: BigRecord::ConnectionAdapters::HbaseAdapter</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (H)</a> &raquo; 
    <a title="BigRecord" href="../../BigRecord.html">BigRecord</a> &raquo; <a title="ConnectionAdapters" href="../ConnectionAdapters.html">ConnectionAdapters</a>
     &raquo; 
    <span class="title">HbaseAdapter</span>
  
</div>

      <div id="search">
  <a id="class_list_link" href="#">Namespace List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: BigRecord::ConnectionAdapters::HbaseAdapter 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a title="BigRecord::ConnectionAdapters::AbstractAdapter" href="AbstractAdapter.html">BigRecord::ConnectionAdapters::AbstractAdapter</a></span>
      
        <ul class="fullTree">
          <li><a title="Object" href="../../Object.html">Object</a></li>
          
            <li class="next"><a title="BigRecord::ConnectionAdapters::AbstractAdapter" href="AbstractAdapter.html">BigRecord::ConnectionAdapters::AbstractAdapter</a></li>
          
            <li class="next">BigRecord::ConnectionAdapters::HbaseAdapter</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/big_record/connection_adapters/hbase_adapter.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="LOST_CONNECTION_ERROR_MESSAGES-constant ">LOST_CONNECTION_ERROR_MESSAGES =
            <span class="summary_desc"></span>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span>
  <span class='string val'>&quot;Server shutdown in progress&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;Broken pipe&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;Lost connection to HBase server during query&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;HBase server has gone away&quot;</span>
<span class='rbrack token'>]</span>
</pre></dd>
      
        <dt id="TYPE_NULL-constant ">TYPE_NULL =
            <span class="summary_desc">
data types.

</span>
        </dt>
        <dd><pre class="code"><span class='integer val'>0x00</span>
</pre></dd>
      
        <dt id="TYPE_STRING-constant ">TYPE_STRING =
            <span class="summary_desc"></span>
        </dt>
        <dd><pre class="code"><span class='integer val'>0x01</span>
</pre></dd>
      
        <dt id="TYPE_BOOLEAN-constant ">TYPE_BOOLEAN =
            <span class="summary_desc">
utf-8 strings.

</span>
        </dt>
        <dd><pre class="code"><span class='integer val'>0x04</span>
</pre></dd>
      
        <dt id="TYPE_BINARY-constant ">TYPE_BINARY =
            <span class="summary_desc">
delegate to YAML.

</span>
        </dt>
        <dd><pre class="code"><span class='integer val'>0x07</span>
</pre></dd>
      
        <dt id="CHARSET-constant ">CHARSET =
            <span class="summary_desc">
string charset.

</span>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;utf-8&quot;</span>
</pre></dd>
      
        <dt id="NULL-constant ">NULL =
            <span class="summary_desc">
utility constants.

</span>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;\000&quot;</span>
</pre></dd>
      
        <dt id="emulate_booleans-classvariable ">@@emulate_booleans =
            <span class="summary_desc"></span>
        </dt>
        <dd><pre class="code"><span class='true true kw'>true</span>
</pre></dd>
      
    </dl>
  


  
  
  
  
  
  
  
  
  
  
  
  

  <h2>Method Summary</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature"><a title="#active? (instance method)" href="#active%3F-instance_method">- (Object) <strong>active?</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
CONNECTION MANAGEMENT ====================================.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#adapter_name (instance method)" href="#adapter_name-instance_method">- (Object) <strong>adapter_name</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#add_column_family (instance method)" href="#add_column_family-instance_method">- (Object) <strong>add_column_family</strong>(table_name, column_name, options = {}) </a>
  
    (also: #add_family)
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#build_serialized_value (instance method)" href="#build_serialized_value-instance_method">- (Object) <strong>build_serialized_value</strong>(type, value) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Serialize an object in a given type.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#configuration (instance method)" href="#configuration-instance_method">- (Object) <strong>configuration</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#create_table (instance method)" href="#create_table-instance_method">- (Object) <strong>create_table</strong>(table_name, options = {}) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#delete (instance method)" href="#delete-instance_method">- (Object) <strong>delete</strong>(table_name, row, timestamp = nil) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#deserialize (instance method)" href="#deserialize-instance_method">- (Object) <strong>deserialize</strong>(str) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Deserialize the given string.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#deserialize_with_header (instance method)" href="#deserialize_with_header-instance_method">- (Object) <strong>deserialize_with_header</strong>(data) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Deserialize the given string assumed to be in the type header format.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#disconnect! (instance method)" href="#disconnect%21-instance_method">- (Object) <strong>disconnect!</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#drop_table (instance method)" href="#drop_table-instance_method">- (Object) <strong>drop_table</strong>(table_name) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get (instance method)" href="#get-instance_method">- (Object) <strong>get</strong>(table_name, row, column, options = {}) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_all_schema_versions (instance method)" href="#get_all_schema_versions-instance_method">- (Object) <strong>get_all_schema_versions</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_columns (instance method)" href="#get_columns-instance_method">- (Object) <strong>get_columns</strong>(table_name, row, columns, options = {}) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_columns_raw (instance method)" href="#get_columns_raw-instance_method">- (Object) <strong>get_columns_raw</strong>(table_name, row, columns, options = {}) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_consecutive_rows (instance method)" href="#get_consecutive_rows-instance_method">- (Object) <strong>get_consecutive_rows</strong>(table_name, start_row, limit, columns, stop_row = nil) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_consecutive_rows_raw (instance method)" href="#get_consecutive_rows_raw-instance_method">- (Object) <strong>get_consecutive_rows_raw</strong>(table_name, start_row, limit, columns, stop_row = nil) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#get_raw (instance method)" href="#get_raw-instance_method">- (Object) <strong>get_raw</strong>(table_name, row, column, options = {}) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#initialize (instance method)" href="#initialize-instance_method">- (HbaseAdapter) <strong>initialize</strong>(connection, logger, connection_options, config) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
TRUE = &quot;\001&quot;.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#initialize_schema_migrations_table (instance method)" href="#initialize_schema_migrations_table-instance_method">- (Object) <strong>initialize_schema_migrations_table</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
SCHEMA STATEMENTS ========================================.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#modify_column_family (instance method)" href="#modify_column_family-instance_method">- (Object) <strong>modify_column_family</strong>(table_name, column_name, options = {}) </a>
  
    (also: #modify_family)
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#reconnect! (instance method)" href="#reconnect%21-instance_method">- (Object) <strong>reconnect!</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#remove_column_family (instance method)" href="#remove_column_family-instance_method">- (Object) <strong>remove_column_family</strong>(table_name, column_name) </a>
  
    (also: #remove_family)
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#serialize (instance method)" href="#serialize-instance_method">- (Object) <strong>serialize</strong>(value) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
Serialize the given value.

</span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#supports_migrations? (instance method)" href="#supports_migrations%3F-instance_method">- (Object) <strong>supports_migrations?</strong> </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#table_exists? (instance method)" href="#table_exists%3F-instance_method">- (Object) <strong>table_exists?</strong>(table_name) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#truncate_table (instance method)" href="#truncate_table-instance_method">- (Object) <strong>truncate_table</strong>(table_name) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#update (instance method)" href="#update-instance_method">- (Object) <strong>update</strong>(table_name, row, values, timestamp) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc"></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature"><a title="#update_raw (instance method)" href="#update_raw-instance_method">- (Object) <strong>update_raw</strong>(table_name, row, values, timestamp) </a>
  
  </span>
  
  
  
  

  
    <span class="summary_desc">
DATABASE STATEMENTS ======================================.

</span>
  
</li>

    
  </ul>


  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a title="BigRecord::ConnectionAdapters::AbstractAdapter" href="AbstractAdapter.html">BigRecord::ConnectionAdapters::AbstractAdapter</a></h3>
  <p class="inherited"><a title="#delete_all" href="AbstractAdapter.html#delete_all-instance_method">#delete_all</a>, <a title="#disable_referential_integrity" href="AbstractAdapter.html#disable_referential_integrity-instance_method">#disable_referential_integrity</a>, <a title="#prefetch_primary_key?" href="AbstractAdapter.html#prefetch_primary_key%3F-instance_method">#prefetch_primary_key?</a>, <a title="#quote_table_name" href="AbstractAdapter.html#quote_table_name-instance_method">#quote_table_name</a>, <a title="#raw_connection" href="AbstractAdapter.html#raw_connection-instance_method">#raw_connection</a>, <a title="#requires_reloading?" href="AbstractAdapter.html#requires_reloading%3F-instance_method">#requires_reloading?</a>, <a title="#reset_runtime" href="AbstractAdapter.html#reset_runtime-instance_method">#reset_runtime</a>, <a title="#supports_count_distinct?" href="AbstractAdapter.html#supports_count_distinct%3F-instance_method">#supports_count_distinct?</a>, <a title="#supports_ddl_transactions?" href="AbstractAdapter.html#supports_ddl_transactions%3F-instance_method">#supports_ddl_transactions?</a>, <a title="#verify!" href="AbstractAdapter.html#verify%21-instance_method">#verify!</a></p>

  
  
  
  
  
  <h3 class="inherited">Methods included from <a title="BigRecord::ConnectionAdapters::Quoting" href="Quoting.html">BigRecord::ConnectionAdapters::Quoting</a></h3>
  <p class="inherited"><a title="#quote" href="Quoting.html#quote-instance_method">#quote</a>, <a title="#quote_column_name" href="Quoting.html#quote_column_name-instance_method">#quote_column_name</a>, <a title="#quote_string" href="Quoting.html#quote_string-instance_method">#quote_string</a>, <a title="#quoted_date" href="Quoting.html#quoted_date-instance_method">#quoted_date</a>, <a title="#quoted_false" href="Quoting.html#quoted_false-instance_method">#quoted_false</a>, <a title="#quoted_true" href="Quoting.html#quoted_true-instance_method">#quoted_true</a></p>

  
  
  
  
  
  <h3 class="inherited">Methods included from <a title="BigRecord::ConnectionAdapters::DatabaseStatements" href="DatabaseStatements.html">BigRecord::ConnectionAdapters::DatabaseStatements</a></h3>
  <p class="inherited"><a title="#insert_fixture" href="DatabaseStatements.html#insert_fixture-instance_method">#insert_fixture</a></p>
<div id="constructor_details">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a title="HbaseAdapter" href="">HbaseAdapter</a></tt>) <strong>initialize</strong>(connection, logger, connection_options, config) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
TRUE = &quot;\001&quot;
</p>
<pre class="code">
     <span class='FALSE constant id'>FALSE</span> <span class='assign token'>=</span> <span class='string val'>&quot;\000&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a title="HbaseAdapter" href="">HbaseAdapter</a></tt>)</span>
      
      
      
      
        &mdash;
        
a new instance of <tt>HbaseAdapter</tt>


      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 68</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='connection identifier id'>connection</span><span class='comma token'>,</span> <span class='logger identifier id'>logger</span><span class='comma token'>,</span> <span class='connection_options identifier id'>connection_options</span><span class='comma token'>,</span> <span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='connection identifier id'>connection</span><span class='comma token'>,</span> <span class='logger identifier id'>logger</span><span class='rparen token'>)</span>
  <span class='@connection_options ivar id'>@connection_options</span><span class='comma token'>,</span> <span class='@config ivar id'>@config</span> <span class='assign token'>=</span> <span class='connection_options identifier id'>connection_options</span><span class='comma token'>,</span> <span class='config identifier id'>config</span>

  <span class='connect identifier id'>connect</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="method_details">
    <h2>Method Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="active?-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>active?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
CONNECTION MANAGEMENT ====================================
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 89</span>

<span class='def def kw'>def</span> <span class='active? fid id'>active?</span>
  <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='ping identifier id'>ping</span>
<span class='rescue rescue kw'>rescue</span> <span class='BigRecordError constant id'>BigRecordError</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="adapter_name-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>adapter_name</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 79</span>

<span class='def def kw'>def</span> <span class='adapter_name identifier id'>adapter_name</span> 
  <span class='string val'>'HBase'</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_column_family-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>add_column_family</strong>(table_name, column_name, options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names">add_family</span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263
264
265
266
267
268
269</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 261</span>

<span class='def def kw'>def</span> <span class='add_column_family identifier id'>add_column_family</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column_name identifier id'>column_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='BigRecordDriver constant id'>BigRecordDriver</span><span class='colon2 op'>::</span><span class='ColumnDescriptor constant id'>ColumnDescriptor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='column_name identifier id'>column_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;ADD COLUMN TABLE #{table_name} COLUMN #{column_name} (#{options.inspect});&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="build_serialized_value-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>build_serialized_value</strong>(type, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Serialize an object in a given type
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 305</span>

<span class='def def kw'>def</span> <span class='build_serialized_value identifier id'>build_serialized_value</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='chr identifier id'>chr</span> <span class='plus op'>+</span> <span class='value identifier id'>value</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="configuration-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>configuration</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 75</span>

<span class='def def kw'>def</span> <span class='configuration identifier id'>configuration</span>
  <span class='@config ivar id'>@config</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_table-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>create_table</strong>(table_name, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>table_definition</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239
240
241
242
243
244
245
246
247
248
249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 237</span>

<span class='def def kw'>def</span> <span class='create_table identifier id'>create_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='table_definition identifier id'>table_definition</span> <span class='assign token'>=</span> <span class='HbaseAdapterTable constant id'>HbaseAdapterTable</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='yield yield kw'>yield</span> <span class='table_definition identifier id'>table_definition</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>

  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:force</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='table_exists? fid id'>table_exists?</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
    <span class='drop_table identifier id'>drop_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;CREATE TABLE #{table_name} (#{table_definition.column_families_list});&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='create_table identifier id'>create_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='table_definition identifier id'>table_definition</span><span class='dot token'>.</span><span class='to_adapter_format identifier id'>to_adapter_format</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>delete</strong>(table_name, row, timestamp = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 195</span>

<span class='def def kw'>def</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='timestamp identifier id'>timestamp</span> <span class='opasgn op'>||=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='dot token'>.</span><span class='to_bigrecord_timestamp identifier id'>to_bigrecord_timestamp</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;DELETE FROM #{table_name} WHERE ROW=#{row};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deserialize-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>deserialize</strong>(str) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deserialize the given string. This method supports both the pure YAML
format and the type header format.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316
317
318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 311</span>

<span class='def def kw'>def</span> <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='str identifier id'>str</span>

  <span class='comment val'># stay compatible with the old serialization code</span>
  <span class='comment val'># YAML documents start with &quot;--- &quot; so if we find that sequence at the beginning we</span>
  <span class='comment val'># consider it as a serialized YAML value, else it's the new format with the type header</span>
  <span class='if if kw'>if</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;--- &quot;</span>
    <span class='YAML constant id'>YAML</span><span class='colon2 op'>::</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='str identifier id'>str</span>
  <span class='else else kw'>else</span>
    <span class='deserialize_with_header identifier id'>deserialize_with_header</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deserialize_with_header-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>deserialize_with_header</strong>(data) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deserialize the given string assumed to be in the type header format.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 325</span>

<span class='def def kw'>def</span> <span class='deserialize_with_header identifier id'>deserialize_with_header</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='data identifier id'>data</span> <span class='and and kw'>and</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='geq op'>&gt;=</span> <span class='integer val'>2</span>

  <span class='comment val'># the type of the data is encoded in the first byte</span>
  <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='semicolon token'>;</span>

  <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
  <span class='when when kw'>when</span> <span class='TYPE_NULL constant id'>TYPE_NULL</span> <span class='then then kw'>then</span> <span class='nil nil kw'>nil</span>
  <span class='when when kw'>when</span> <span class='TYPE_STRING constant id'>TYPE_STRING</span> <span class='then then kw'>then</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
  <span class='when when kw'>when</span> <span class='TYPE_BINARY constant id'>TYPE_BINARY</span> <span class='then then kw'>then</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="disconnect!-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>disconnect!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 100</span>

<span class='def def kw'>def</span> <span class='disconnect! fid id'>disconnect!</span>
  <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='close identifier id'>close</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="drop_table-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>drop_table</strong>(table_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 253</span>

<span class='def def kw'>def</span> <span class='drop_table identifier id'>drop_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;DROP TABLE #{table_name};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='drop_table identifier id'>drop_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get</strong>(table_name, row, column, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 131</span>

<span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='serialized_result identifier id'>serialized_result</span> <span class='assign token'>=</span> <span class='get_raw identifier id'>get_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='serialized_result identifier id'>serialized_result</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='serialized_result identifier id'>serialized_result</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='serialized_result identifier id'>serialized_result</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_all_schema_versions-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_all_schema_versions</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 225</span>

<span class='def def kw'>def</span> <span class='get_all_schema_versions identifier id'>get_all_schema_versions</span>
  <span class='sm_table identifier id'>sm_table</span> <span class='assign token'>=</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Migrator constant id'>Migrator</span><span class='dot token'>.</span><span class='schema_migrations_table_name identifier id'>schema_migrations_table_name</span>

  <span class='get_consecutive_rows identifier id'>get_consecutive_rows</span><span class='lparen token'>(</span><span class='sm_table identifier id'>sm_table</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;attribute:version&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='version identifier id'>version</span><span class='bitor op'>|</span> <span class='version identifier id'>version</span><span class='lbrack token'>[</span><span class='string val'>&quot;attribute:version&quot;</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_columns-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_columns</strong>(table_name, row, columns, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 150</span>

<span class='def def kw'>def</span> <span class='get_columns identifier id'>get_columns</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='row_cols identifier id'>row_cols</span> <span class='assign token'>=</span> <span class='get_columns_raw identifier id'>get_columns_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='unless unless_mod kw'>unless</span> <span class='row_cols identifier id'>row_cols</span>

  <span class='row_cols identifier id'>row_cols</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='col identifier id'>col</span><span class='bitor op'>|</span>
    <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span>
    <span class='if if kw'>if</span> <span class='key identifier id'>key</span> <span class='eq op'>==</span> <span class='string val'>'id'</span>
      <span class='col identifier id'>col</span>
    <span class='else else kw'>else</span>
      <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_columns_raw-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_columns_raw</strong>(table_name, row, columns, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 142</span>

<span class='def def kw'>def</span> <span class='get_columns_raw identifier id'>get_columns_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;SELECT (#{columns.join(&quot;, &quot;)}) FROM #{table_name} WHERE ROW=#{row};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='get_columns identifier id'>get_columns</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_consecutive_rows-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_consecutive_rows</strong>(table_name, start_row, limit, columns, stop_row = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 174</span>

<span class='def def kw'>def</span> <span class='get_consecutive_rows identifier id'>get_consecutive_rows</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='start_row identifier id'>start_row</span><span class='comma token'>,</span> <span class='limit identifier id'>limit</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='stop_row identifier id'>stop_row</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='get_consecutive_rows_raw identifier id'>get_consecutive_rows_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='start_row identifier id'>start_row</span><span class='comma token'>,</span> <span class='limit identifier id'>limit</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='stop_row identifier id'>stop_row</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row_cols identifier id'>row_cols</span><span class='bitor op'>|</span>
    <span class='cols identifier id'>cols</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='row_cols identifier id'>row_cols</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='col identifier id'>col</span><span class='bitor op'>|</span>
      <span class='begin begin kw'>begin</span>
        <span class='cols identifier id'>cols</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span>
        <span class='if if kw'>if</span> <span class='key identifier id'>key</span> <span class='eq op'>==</span> <span class='string val'>'id'</span>
          <span class='col identifier id'>col</span>
        <span class='else else kw'>else</span>
          <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
        <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Could not load column value #{key} for row=#{row_cols['id']}&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='cols identifier id'>cols</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_consecutive_rows_raw-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_consecutive_rows_raw</strong>(table_name, start_row, limit, columns, stop_row = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 166</span>

<span class='def def kw'>def</span> <span class='get_consecutive_rows_raw identifier id'>get_consecutive_rows_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='start_row identifier id'>start_row</span><span class='comma token'>,</span> <span class='limit identifier id'>limit</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='stop_row identifier id'>stop_row</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;SCAN (#{columns.join(&quot;, &quot;)}) FROM #{table_name} WHERE START_ROW=#{start_row} AND STOP_ROW=#{stop_row} LIMIT=#{limit};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='get_consecutive_rows identifier id'>get_consecutive_rows</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='start_row identifier id'>start_row</span><span class='comma token'>,</span> <span class='limit identifier id'>limit</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='stop_row identifier id'>stop_row</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_raw-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>get_raw</strong>(table_name, row, column, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 123</span>

<span class='def def kw'>def</span> <span class='get_raw identifier id'>get_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;SELECT (#{column}) FROM #{table_name} WHERE ROW=#{row};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize_schema_migrations_table-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>initialize_schema_migrations_table</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
SCHEMA STATEMENTS ========================================
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 215</span>

<span class='def def kw'>def</span> <span class='initialize_schema_migrations_table identifier id'>initialize_schema_migrations_table</span>
  <span class='sm_table identifier id'>sm_table</span> <span class='assign token'>=</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Migrator constant id'>Migrator</span><span class='dot token'>.</span><span class='schema_migrations_table_name identifier id'>schema_migrations_table_name</span>

  <span class='unless unless kw'>unless</span> <span class='table_exists? fid id'>table_exists?</span><span class='lparen token'>(</span><span class='sm_table identifier id'>sm_table</span><span class='rparen token'>)</span>
    <span class='create_table identifier id'>create_table</span><span class='lparen token'>(</span><span class='sm_table identifier id'>sm_table</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span>
      <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='family identifier id'>family</span> <span class='symbol val'>:attribute</span><span class='comma token'>,</span> <span class='symbol val'>:versions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modify_column_family-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>modify_column_family</strong>(table_name, column_name, options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names">modify_family</span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 283</span>

<span class='def def kw'>def</span> <span class='modify_column_family identifier id'>modify_column_family</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column_name identifier id'>column_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='BigRecordDriver constant id'>BigRecordDriver</span><span class='colon2 op'>::</span><span class='ColumnDescriptor constant id'>ColumnDescriptor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='column_name identifier id'>column_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;MODIFY COLUMN TABLE #{table_name} COLUMN #{column_name} (#{options.inspect});&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='modify_column identifier id'>modify_column</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reconnect!-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>reconnect!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 95</span>

<span class='def def kw'>def</span> <span class='reconnect! fid id'>reconnect!</span>
  <span class='disconnect! fid id'>disconnect!</span>
  <span class='connect identifier id'>connect</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_column_family-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>remove_column_family</strong>(table_name, column_name) 
  

  
    <span class="aliases">Also known as:
    <span class="names">remove_family</span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275
276
277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 273</span>

<span class='def def kw'>def</span> <span class='remove_column_family identifier id'>remove_column_family</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column_name identifier id'>column_name</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;REMOVE COLUMN TABLE #{table_name} COLUMN #{column_name};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='remove_column identifier id'>remove_column</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='column_name identifier id'>column_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="serialize-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>serialize</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Serialize the given value
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 296</span>

<span class='def def kw'>def</span> <span class='serialize identifier id'>serialize</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='NilClass constant id'>NilClass</span> <span class='then then kw'>then</span> <span class='NULL constant id'>NULL</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span> <span class='then then kw'>then</span> <span class='build_serialized_value identifier id'>build_serialized_value</span><span class='lparen token'>(</span><span class='TYPE_STRING constant id'>TYPE_STRING</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_yaml identifier id'>to_yaml</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="supports_migrations?-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>supports_migrations?</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 83</span>

<span class='def def kw'>def</span> <span class='supports_migrations? fid id'>supports_migrations?</span> 
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="table_exists?-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>table_exists?</strong>(table_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 231</span>

<span class='def def kw'>def</span> <span class='table_exists? fid id'>table_exists?</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;TABLE EXISTS? #{table_name};&quot;</span> <span class='do do kw'>do</span>
    <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='table_exists? fid id'>table_exists?</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="truncate_table-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>truncate_table</strong>(table_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 204</span>

<span class='def def kw'>def</span> <span class='truncate_table identifier id'>truncate_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;TRUNCATE TABLE #{table_name}&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='truncate_table identifier id'>truncate_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>update</strong>(table_name, row, values, timestamp) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 115</span>

<span class='def def kw'>def</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span><span class='rparen token'>)</span>
  <span class='serialized_collection identifier id'>serialized_collection</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='serialized_collection identifier id'>serialized_collection</span><span class='lbrack token'>[</span><span class='column identifier id'>column</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='serialize identifier id'>serialize</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='update_raw identifier id'>update_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='serialized_collection identifier id'>serialized_collection</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_raw-instance_method">
  
    - (<tt><a title="Object" href="../../Object.html">Object</a></tt>) <strong>update_raw</strong>(table_name, row, values, timestamp) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
DATABASE STATEMENTS ======================================
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 107</span>

<span class='def def kw'>def</span> <span class='update_raw identifier id'>update_raw</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;UPDATE #{table_name} SET #{values.inspect if values} WHERE ROW=#{row};&quot;</span> <span class='do do kw'>do</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='@connection ivar id'>@connection</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='timestamp identifier id'>timestamp</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Dec  1 18:30:51 2009 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.4.0 (ruby-1.8.7).
</div>

  </body>
</html>