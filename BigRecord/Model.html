<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf8" />
<title>Class: BigRecord::Model</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo; 
    <span class='title'><a href="../BigRecord.html" title="BigRecord (module)">BigRecord</a></span>
     &raquo; 
    <span class="title">Model</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: BigRecord::Model 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="../Object.html" title="Object (class)">Object</a></span>
      
        <ul class="fullTree">
          <li><a href="../Object.html" title="Object (class)">Object</a></li>
          
            <li class="next">BigRecord::Model</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/big_record/model.rb</dd>
  
</dl>
<div class="clear"></div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><a href="Base.html" title="BigRecord::Base (class)">Base</a>, <a href="Embedded.html" title="BigRecord::Embedded (class)">Embedded</a></p>
</div>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ID_FIELD_SEPARATOR-constant" class="">ID_FIELD_SEPARATOR =
          <div class="docstring">
  <div class="discussion">
    <p>
Constants for special characters in generated IDs. An ID might then look
like this:
&#8216;United_States-Hawaii-Oahu-Honolulu-b9cef848-a4e0-11dc-a7ba-0018f3137ea8&#8217;
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='string val'>'-'</span>
</pre></dd>
      
        <dt id="ID_WHITE_SPACE_CHAR-constant" class="">ID_WHITE_SPACE_CHAR =
          
        </dt>
        <dd><pre class="code"><span class='string val'>'_'</span>
</pre></dd>
      
        <dt id="subclasses-classvariable" class="">@@subclasses =
          
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span><span class='rbrace token'>}</span>
</pre></dd>
      
        <dt id="configurations-classvariable" class="">@@configurations =
          
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span><span class='rbrace token'>}</span>
</pre></dd>
      
        <dt id="table_name_prefix-classvariable" class="">@@table_name_prefix =
          
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;&quot;</span>
</pre></dd>
      
        <dt id="table_name_suffix-classvariable" class="">@@table_name_suffix =
          
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;&quot;</span>
</pre></dd>
      
        <dt id="pluralize_table_names-classvariable" class="">@@pluralize_table_names =
          
        </dt>
        <dd><pre class="code"><span class='true true kw'>true</span>
</pre></dd>
      
        <dt id="colorize_logging-classvariable" class="">@@colorize_logging =
          
        </dt>
        <dd><pre class="code"><span class='true true kw'>true</span>
</pre></dd>
      
        <dt id="default_timezone-classvariable" class="">@@default_timezone =
          
        </dt>
        <dd><pre class="code"><span class='symbol val'>:local</span>
</pre></dd>
      
        <dt id="generate_read_methods-classvariable" class="">@@generate_read_methods =
          
        </dt>
        <dd><pre class="code"><span class='false false kw'>false</span>
</pre></dd>
      
        <dt id="allow_concurrency-classvariable" class="">@@allow_concurrency =
          
        </dt>
        <dd><pre class="code"><span class='false false kw'>false</span>
</pre></dd>
      
    </dl>
  



  
    <h2>Class Method Summary</h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D%3D-class_method" title="=== (class method)">+ (Object) <strong>===</strong>(object) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Overwrite the default class equality method to provide support for
association proxies.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accessible_attributes-class_method" title="accessible_attributes (class method)">+ (Object) <strong>accessible_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of all the attributes that have been made accessible to
mass-assignment.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alias_attribute-class_method" title="alias_attribute (class method)">+ (Object) <strong>alias_attribute</strong>(alias_name, fully_qualified_name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Define aliases to the fully qualified attributes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_accessible-class_method" title="attr_accessible (class method)">+ (Object) <strong>attr_accessible</strong>(*attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies a white list of model attributes that can be set via
mass-assignment, such as <tt>new(attributes)</tt>,
<tt>update_attributes(attributes)</tt>, or
<tt>attributes=(attributes)</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_create_accessible-class_method" title="attr_create_accessible (class method)">+ (Object) <strong>attr_create_accessible</strong>(*attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attributes listed as create_accessible work with mass assignment ONLY on
creation.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_protected-class_method" title="attr_protected (class method)">+ (Object) <strong>attr_protected</strong>(*attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attributes named in this macro are protected from mass-assignment, such as
<tt>new(attributes)</tt>, <tt>update_attributes(attributes)</tt>, or
<tt>attributes=(attributes)</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_readonly-class_method" title="attr_readonly (class method)">+ (Object) <strong>attr_readonly</strong>(*attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attributes listed as readonly can be set for a new record, but will be
ignored in database updates afterwards.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#base_class-class_method" title="base_class (class method)">+ (Object) <strong>base_class</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#benchmark-class_method" title="benchmark (class method)">+ (Object) <strong>benchmark</strong>(title, log_level = Logger::DEBUG, use_silence = true) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Log and benchmark multiple statements in a single block.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#column-class_method" title="column (class method)">+ (ConnectionAdapters::Column) <strong>column</strong>(name, type, options = {}) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Macro for defining a new column for a model.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#column_methods_hash-class_method" title="column_methods_hash (class method)">+ (Object) <strong>column_methods_hash</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a hash of all the methods added to query each of the columns in the
table with the name of the method as the key and true as the value.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#column_names-class_method" title="column_names (class method)">+ (Object) <strong>column_names</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of column names as strings.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#columns-class_method" title="columns (class method)">+ (Object) <strong>columns</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Override this method in the subclasses to add new columns.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#columns_hash-class_method" title="columns_hash (class method)">+ (Object) <strong>columns_hash</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a hash of column objects for the table associated with this class.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#content_columns-class_method" title="content_columns (class method)">+ (Object) <strong>content_columns</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of column objects where the primary id, all columns ending
in &quot;_id&quot; or &quot;_count&quot;, and columns used for single table
inheritance have been removed.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_accessible_attributes-class_method" title="create_accessible_attributes (class method)">+ (Object) <strong>create_accessible_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of all the attributes that have been specified as
create_accessible.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_column_prefix-class_method" title="default_column_prefix (class method)">+ (Object) <strong>default_column_prefix</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Default column prefix used when auto-generating column attribute names.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#human_attribute_name-class_method" title="human_attribute_name (class method)">+ (Object) <strong>human_attribute_name</strong>(attribute_key_name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transforms attribute key names into a more humane format, such as
&quot;First name&quot; instead of &quot;first_name&quot;.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inherited-class_method" title="inherited (class method)">+ (Object) <strong>inherited</strong>(child) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instantiate-class_method" title="instantiate (class method)">+ (Object) <strong>instantiate</strong>(raw_record) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Finder methods must instantiate through this method.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#primary_key-class_method" title="primary_key (class method)">+ (Object) <strong>primary_key</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Evaluate the name of the column of the primary key only once.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#protected_attributes-class_method" title="protected_attributes (class method)">+ (Object) <strong>protected_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of all the attributes that have been protected from
mass-assignment.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quote_value-class_method" title="quote_value (class method)">+ (Object) <strong>quote_value</strong>(value, c = nil) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_methods-class_method" title="read_methods (class method)">+ (Object) <strong>read_methods</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Contains the names of the generated reader methods.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readonly_attributes-class_method" title="readonly_attributes (class method)">+ (Object) <strong>readonly_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of all the attributes that have been specified as
readonly.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_subclasses-class_method" title="reset_subclasses (class method)">+ (Object) <strong>reset_subclasses</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#silence-class_method" title="silence (class method)">+ (Object) <strong>silence</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Silences the logger for the duration of the block.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_primary_key%3F-class_method" title="store_primary_key? (class method)">+ (Boolean) <strong>store_primary_key?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#undecorated_table_name-class_method" title="undecorated_table_name (class method)">+ (Object) <strong>undecorated_table_name</strong>(class_name = base_class.name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Guesses the table name, but does not decorate it with prefix and suffix
information.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>Instance Method Summary</h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(comparison_object) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if the <tt>comparison_object</tt> is the same object, or is of
the same type and has the same id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(attr_name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.new(2004, 12, 12)).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">- (Object) <strong>[]=</strong>(attr_name, value) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Updates the attribute identified by <tt>attr_name</tt> with the specified
<tt>value</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_attributes_loaded%3D-instance_method" title="#all_attributes_loaded= (instance method)">- (Object) <strong>all_attributes_loaded</strong>(loaded) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_attributes_loaded%3F-instance_method" title="#all_attributes_loaded? (instance method)">- (Boolean) <strong>all_attributes_loaded?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_for_inspect-instance_method" title="#attribute_for_inspect (instance method)">- (Object) <strong>attribute_for_inspect</strong>(attr_name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Format attributes nicely for inspect.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_names-instance_method" title="#attribute_names (instance method)">- (Object) <strong>attribute_names</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an array of names for the attributes available on this object
sorted alphabetically.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_present%3F-instance_method" title="#attribute_present? (instance method)">- (String, ...) <strong>attribute_present?</strong>(attribute) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if the specified <tt>attribute</tt> has been set by the user
or by a database load and is neither nil nor empty? (the latter only
applies to objects that respond to empty?, most notably Strings).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes-instance_method" title="#attributes (instance method)">- (Hash) <strong>attributes</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the attributes hash of the object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes%3D-instance_method" title="#attributes= (instance method)">- (Object) <strong>attributes</strong>(new_attributes, guard_protected_attributes = true) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Allows you to set all the attributes at once by passing in a hash with keys
matching the attribute names (which again matches the column names).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#column_for_attribute-instance_method" title="#column_for_attribute (instance method)">- (Object) <strong>column_for_attribute</strong>(name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Overridden by FamilySpanColumns Returns the column object for the named
attribute.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connection-instance_method" title="#connection (instance method)">- (Object) <strong>connection</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the connection adapter of the current session.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deserialize-instance_method" title="#deserialize (instance method)">- (Object) <strong>deserialize</strong>(attrs = nil) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy-instance_method" title="#destroy (instance method)">- (Object) <strong>destroy</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#8217;t be persisted).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">- (Boolean) <strong>eql?</strong>(comparison_object) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delegates to ==.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freeze-instance_method" title="#freeze (instance method)">- (Object) <strong>freeze</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Just freeze the attributes hash, such that associations are still
accessible even on destroyed records.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frozen%3F-instance_method" title="#frozen? (instance method)">- (true, false) <strong>frozen?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Checks whether the object has had its attributes hash frozen.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_attribute%3F-instance_method" title="#has_attribute? (instance method)">- (String, ...) <strong>has_attribute?</strong>(attr_name) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if the given attribute is in the attributes hash.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">- (Object) <strong>hash</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delegates to id in order to allow two records of the same type and id to
work with something like:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#human_attribute_name-instance_method" title="#human_attribute_name (instance method)">- (Object) <strong>human_attribute_name</strong>(attribute_key) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">- (Object) <strong>id</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A model instance&#8217;s primary key is always available as model.id
whether you name it the default &#8216;id&#8217; or set it to something
else.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id%3D-instance_method" title="#id= (instance method)">- (Object) <strong>id</strong>(value) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets the primary ID.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Model) <strong>initialize</strong>(attrs = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the contents of the record as a nicely formatted string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_record%3F-instance_method" title="#new_record? (instance method)">- (Boolean) <strong>new_record?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this object hasn&#8217;t been saved yet &#8212; that is, a
record for the object doesn&#8217;t yet exist in the data store.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#preinitialize-instance_method" title="#preinitialize (instance method)">- (Object) <strong>preinitialize</strong>(attrs = nil) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Callback method meant to be overriden by subclasses if they need to preload
some attributes before initializing the record.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quoted_id-instance_method" title="#quoted_id (instance method)">- (Object) <strong>quoted_id</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readonly%21-instance_method" title="#readonly! (instance method)">- (Object) <strong>readonly!</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets the record to be readonly.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readonly%3F-instance_method" title="#readonly? (instance method)">- (Boolean) <strong>readonly?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Records loaded through joins with piggy-back attributes will be marked as
read only as they cannot be saved and return true to this query.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reload-instance_method" title="#reload (instance method)">- (Object) <strong>reload</strong>(options = nil) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Reloads the attributes of this object from the database.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#respond_to%3F-instance_method" title="#respond_to? (instance method)">- (Boolean) <strong>respond_to?</strong>(method, include_priv = false) </a>
    

    
      (also: #respond_to_without_attributes?)
    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A Person object with a name attribute can ask
person.respond_to?(&quot;name&quot;),
person.respond_to?(&quot;name=&quot;), and
person.respond_to?(&quot;name?&quot;) which will all return true.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#safe_attributes%3D-instance_method" title="#safe_attributes= (instance method)">- (Object) <strong>safe_attributes</strong>(new_attributes, guard_protected_attributes = true) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Safe version of attributes= so that objects can be instantiated even if
columns are removed.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save-instance_method" title="#save (instance method)">- (Object) <strong>save</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><ul>
<li>No record exists: Creates a new record with values matching those of the
object attributes.

</li>
</ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save%21-instance_method" title="#save! (instance method)">- (Object) <strong>save!</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attempts to save the record, but instead of just returning false if it
couldn&#8217;t happen, it raises a RecordNotSaved exception.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (String) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Default to_s method that just returns invokes the <tt><a href="#id-instance_method" title="BigRecord::Model#id (method)">#id</a></tt> method.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_attribute-instance_method" title="#update_attribute (instance method)">- (Object) <strong>update_attribute</strong>(name, value) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Updates a single attribute and saves the record.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_attributes-instance_method" title="#update_attributes (instance method)">- (Object) <strong>update_attributes</strong>(attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Updates all the attributes from the passed-in Hash and saves the record.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_attributes%21-instance_method" title="#update_attributes! (instance method)">- (Object) <strong>update_attributes!</strong>(attributes) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Updates an object just like Base.update_attributes but calls save! instead
of save so an exception is raised if the record is invalid.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a href="" title="BigRecord::Model (class)">Model</a></tt>) <strong>initialize</strong>(attrs = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table &#8212; hence you can&#8217;t have attributes that aren&#8217;t part
of the table columns.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>Optional</span>
      
      
      
        &mdash;
        <div class='inline'><p>
hash argument consisting of keys that match the names of the columns, and
their values.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 144</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='preinitialize identifier id'>preinitialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span><span class='rparen token'>)</span>
  <span class='@attributes ivar id'>@attributes</span> <span class='assign token'>=</span> <span class='attributes_from_column_definition identifier id'>attributes_from_column_definition</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attrs identifier id'>attrs</span> <span class='unless unless_mod kw'>unless</span> <span class='attrs identifier id'>attrs</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice this">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>
  
    <div class="method_details first">
  <p class="signature first" id="method_missing-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>method_missing</strong>(method_id, *args, &amp;block)  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Allows access to the object attributes, which are held in the @attributes
hash, as were they first-class methods. So a Person class with a name
attribute can use Person#name and Person#name= and never directly use the
attributes hash &#8212; except for multiple assigns with
ActiveRecord#attributes=. A Milestone class can also ask
Milestone#completed? to test that the completed attribute is not nil or 0.
</p>
<p>
It&#8217;s also possible to instantiate related objects, so a Client class
belonging to the clients table with a master_id foreign key can instantiate
master through Client#master.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 613</span>

<span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='method_id identifier id'>method_id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='method_name identifier id'>method_name</span> <span class='assign token'>=</span> <span class='method_id identifier id'>method_id</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='if if kw'>if</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span> <span class='or or kw'>or</span>
      <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='regexp val'>/\?$/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='and and kw'>and</span>
      <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='query_method_name identifier id'>query_method_name</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='pre_match identifier id'>pre_match</span><span class='rparen token'>)</span> <span class='and and kw'>and</span>
      <span class='method_name identifier id'>method_name</span> <span class='assign token'>=</span> <span class='query_method_name identifier id'>query_method_name</span><span class='rparen token'>)</span>
    <span class='define_read_methods identifier id'>define_read_methods</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='read_methods identifier id'>read_methods</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='andop op'>&amp;&amp;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='generate_read_methods identifier id'>generate_read_methods</span>
    <span class='md identifier id'>md</span> <span class='integer val'>? </span><span class='query_attribute identifier id'>query_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='method_name identifier id'>method_name</span>
    <span class='id identifier id'>id</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='match_attribute_method? fid id'>match_attribute_method?</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='attribute_name identifier id'>attribute_name</span><span class='comma token'>,</span> <span class='method_type identifier id'>method_type</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='pre_match identifier id'>pre_match</span><span class='comma token'>,</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='if if kw'>if</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='attribute_name identifier id'>attribute_name</span><span class='rparen token'>)</span>
      <span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='dstring node'>&quot;attribute#{method_type}&quot;</span><span class='comma token'>,</span> <span class='attribute_name identifier id'>attribute_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='super super kw'>super</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="===-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>===</strong>(object) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Overwrite the default class equality method to provide support for
association proxies.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


822
823
824</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 822</span>

<span class='def def kw'>def</span> <span class='eqq op'>===</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="accessible_attributes-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>accessible_attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of all the attributes that have been made accessible to
mass-assignment.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1010
1011
1012</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1010</span>

<span class='def def kw'>def</span> <span class='accessible_attributes identifier id'>accessible_attributes</span> 
  <span class='read_inheritable_attribute identifier id'>read_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_accessible</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="alias_attribute-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>alias_attribute</strong>(alias_name, fully_qualified_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Define aliases to the fully qualified attributes
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


910
911
912</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 910</span>

<span class='def def kw'>def</span> <span class='alias_attribute identifier id'>alias_attribute</span><span class='lparen token'>(</span><span class='alias_name identifier id'>alias_name</span><span class='comma token'>,</span> <span class='fully_qualified_name identifier id'>fully_qualified_name</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='string val'>&quot;def \#{alias_name}\nread_attribute(\&quot;\#{fully_qualified_name}\&quot;)\nend\ndef \#{alias_name}=(value)\nwrite_attribute(\&quot;\#{fully_qualified_name}\&quot;, value)\nend\n&quot;</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_accessible-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attr_accessible</strong>(*attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies a white list of model attributes that can be set via
mass-assignment, such as <tt>new(attributes)</tt>,
<tt>update_attributes(attributes)</tt>, or <tt>attributes=(attributes)</tt>
</p>
<p>
This is the opposite of the <tt>attr_protected</tt> macro: Mass-assignment
will only set attributes in this list, to assign to the rest of attributes
you can use direct writer methods. This is meant to protect sensitive
attributes from being overwritten by malicious users tampering with URLs or
forms. If you&#8217;d rather start from an all-open default and restrict
attributes as needed, have a look at <tt>attr_protected</tt>.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Customer constant id'>Customer</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='attr_accessible identifier id'>attr_accessible</span> <span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:nickname</span>
  <span class='end end kw'>end</span>

  <span class='customer identifier id'>customer</span> <span class='assign token'>=</span> <span class='Customer constant id'>Customer</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;David&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:nickname</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Dave&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:credit_rating</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Excellent&quot;</span><span class='rparen token'>)</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; nil</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Jolly fellow&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:credit_rating</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Superb&quot;</span> <span class='rbrace token'>}</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; nil</span>

  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='assign token'>=</span> <span class='string val'>&quot;Average&quot;</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; &quot;Average&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1005
1006
1007</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1005</span>

<span class='def def kw'>def</span> <span class='attr_accessible identifier id'>attr_accessible</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='write_inheritable_attribute identifier id'>write_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_accessible</span><span class='comma token'>,</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:to_s</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='accessible_attributes identifier id'>accessible_attributes</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_create_accessible-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attr_create_accessible</strong>(*attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attributes listed as create_accessible work with mass assignment ONLY on
creation. After that, any updates to that attribute will be protected from
mass assignment. This differs from attr_readonly since that macro prevents
attributes from ever being changed (even with the explicit setters) after
the record is created.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Customer constant id'>Customer</span> <span class='lt op'>&lt;</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='attr_create_accessible identifier id'>attr_create_accessible</span> <span class='symbol val'>:name</span>
  <span class='end end kw'>end</span>

  <span class='customer identifier id'>customer</span> <span class='assign token'>=</span> <span class='Customer constant id'>Customer</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Greg&quot;</span><span class='rparen token'>)</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='comment val'># =&gt; &quot;Greg&quot;</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='save identifier id'>save</span> <span class='comment val'># =&gt; true</span>

  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Nerd&quot;</span> <span class='rbrace token'>}</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='comment val'># =&gt; &quot;Greg&quot;</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='string val'>&quot;Nerd&quot;</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='comment val'># =&gt; &quot;Nerd&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1041
1042
1043</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1041</span>

<span class='def def kw'>def</span> <span class='attr_create_accessible identifier id'>attr_create_accessible</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
 <span class='write_inheritable_attribute identifier id'>write_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_create_accessible</span><span class='comma token'>,</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:to_s</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='create_accessible_attributes identifier id'>create_accessible_attributes</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_protected-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attr_protected</strong>(*attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attributes named in this macro are protected from mass-assignment, such as
<tt>new(attributes)</tt>, <tt>update_attributes(attributes)</tt>, or
<tt>attributes=(attributes)</tt>.
</p>
<p>
Mass-assignment to these attributes will simply be ignored, to assign to
them you can use direct writer methods. This is meant to protect sensitive
attributes from being overwritten by malicious users tampering with URLs or
forms.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Customer constant id'>Customer</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='attr_protected identifier id'>attr_protected</span> <span class='symbol val'>:credit_rating</span>
  <span class='end end kw'>end</span>

  <span class='customer identifier id'>customer</span> <span class='assign token'>=</span> <span class='Customer constant id'>Customer</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='David constant id'>David</span><span class='comma token'>,</span> <span class='string val'>&quot;credit_rating&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Excellent&quot;</span><span class='rparen token'>)</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; nil</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;description&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Jolly fellow&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;credit_rating&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Superb&quot;</span> <span class='rbrace token'>}</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; nil</span>

  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='assign token'>=</span> <span class='string val'>&quot;Average&quot;</span>
  <span class='customer identifier id'>customer</span><span class='dot token'>.</span><span class='credit_rating identifier id'>credit_rating</span> <span class='comment val'># =&gt; &quot;Average&quot;</span>
</pre>
<p>
To start from an all-closed default and enable attributes as needed, have a
look at <tt>attr_accessible</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


972
973
974</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 972</span>

<span class='def def kw'>def</span> <span class='attr_protected identifier id'>attr_protected</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='write_inheritable_attribute identifier id'>write_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_protected</span><span class='comma token'>,</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='protected_attributes identifier id'>protected_attributes</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_readonly-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attr_readonly</strong>(*attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attributes listed as readonly can be set for a new record, but will be
ignored in database updates afterwards.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1015
1016
1017</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1015</span>

<span class='def def kw'>def</span> <span class='attr_readonly identifier id'>attr_readonly</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
 <span class='write_inheritable_attribute identifier id'>write_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_readonly</span><span class='comma token'>,</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:to_s</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='readonly_attributes identifier id'>readonly_attributes</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="base_class-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>base_class</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


826
827
828</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 826</span>

<span class='def def kw'>def</span> <span class='base_class identifier id'>base_class</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="benchmark-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>benchmark</strong>(title, log_level = Logger::DEBUG, use_silence = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Log and benchmark multiple statements in a single block.
</p>
<p>
The benchmark is only recorded if the current level of the logger matches
the <tt>log_level</tt>, which makes it easy to include benchmarking
statements in production software that will remain inexpensive because the
benchmark will only be conducted if the log level is low enough.
</p>
<p>
The logging of the multiple statements is turned off unless
<tt>use_silence</tt> is set to false.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span><span class='lparen token'>(</span><span class='string val'>&quot;Creating project&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
  <span class='project identifier id'>project</span> <span class='assign token'>=</span> <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;stuff&quot;</span><span class='rparen token'>)</span>
  <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='create_manager identifier id'>create_manager</span><span class='lparen token'>(</span><span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;David&quot;</span><span class='rparen token'>)</span>
  <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='milestones identifier id'>milestones</span> <span class='lshft op'>&lt;&lt;</span> <span class='Milestone constant id'>Milestone</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    
  </div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


802
803
804
805
806
807
808
809
810
811</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 802</span>

<span class='def def kw'>def</span> <span class='benchmark identifier id'>benchmark</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='log_level identifier id'>log_level</span> <span class='assign token'>=</span> <span class='Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='DEBUG constant id'>DEBUG</span><span class='comma token'>,</span> <span class='use_silence identifier id'>use_silence</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='logger identifier id'>logger</span> <span class='andop op'>&amp;&amp;</span> <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='level identifier id'>level</span> <span class='eq op'>==</span> <span class='log_level identifier id'>log_level</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='seconds identifier id'>seconds</span> <span class='assign token'>=</span> <span class='Benchmark constant id'>Benchmark</span><span class='dot token'>.</span><span class='realtime identifier id'>realtime</span> <span class='lbrace token'>{</span> <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='use_silence identifier id'>use_silence</span> <span class='integer val'>? </span><span class='silence identifier id'>silence</span> <span class='lbrace token'>{</span> <span class='yield yield kw'>yield</span> <span class='rbrace token'>}</span> <span class='colon op'>:</span> <span class='yield yield kw'>yield</span> <span class='rbrace token'>}</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='log_level identifier id'>log_level</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{title} (#{'%.5f' % seconds})&quot;</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span>
  <span class='else else kw'>else</span>
    <span class='yield yield kw'>yield</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="column-class_method">
  
    + (<tt><a href="ConnectionAdapters/Column.html" title="BigRecord::ConnectionAdapters::Column (class)">ConnectionAdapters::Column</a></tt>) <strong>column</strong>(name, type, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Macro for defining a new column for a model. Invokes <tt><a href="#create_column-class_method" title="BigRecord::Model.create_column (method)">create_column</a></tt> and
adds the new column into the model&#8217;s column hash.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Symbol</tt>, <tt>String</tt>)</span>
      
      
        <span class='name'>type</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Column type as defined in the source of <tt><a href="ConnectionAdapters/Column.html#klass-instance_method" title="BigRecord::ConnectionAdapters::Column#klass (method)">ConnectionAdapters::Column#klass</a></tt>
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>true</tt>, <tt>false</tt>)</span>
          <span class="name">:collection</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
Whether this column is a collection.
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt>String</tt>)</span>
          <span class="name">:alias</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
Define an alias for the column that cannot be inferred. By default,
&#8216;attribute:name&#8217; will be aliased to &#8216;name&#8217;.
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt>String</tt>)</span>
          <span class="name">:default</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
Default value to set for this column.
</p>
</div>
        </tr>
      
    </ul>
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="ConnectionAdapters/Column.html" title="BigRecord::ConnectionAdapters::Column (class)">ConnectionAdapters::Column</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
The column object created.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 892</span>

<span class='def def kw'>def</span> <span class='column identifier id'>column</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{self.default_column_prefix}#{name}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='match op'>=~</span> <span class='regexp val'>/:/</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='default_column_prefix identifier id'>default_column_prefix</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>

  <span class='@columns_hash ivar id'>@columns_hash</span> <span class='assign token'>=</span> <span class='default_columns identifier id'>default_columns</span> <span class='unless unless_mod kw'>unless</span> <span class='@columns_hash ivar id'>@columns_hash</span>

  <span class='comment val'># The other variables that are cached and depend on @columns_hash need to be reloaded</span>
  <span class='invalidate_columns identifier id'>invalidate_columns</span>

  <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='create_column identifier id'>create_column</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='@columns_hash ivar id'>@columns_hash</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span>

  <span class='alias_attribute identifier id'>alias_attribute</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='alias identifier id'>alias</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='alias identifier id'>alias</span>

  <span class='c identifier id'>c</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="column_methods_hash-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>column_methods_hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a hash of all the methods added to query each of the columns in the
table with the name of the method as the key and true as the value. This
makes it possible to do O(1) lookups in respond_to? to check if a given
method for attribute is available.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


872
873
874
875
876
877
878
879
880
881</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 872</span>

<span class='def def kw'>def</span> <span class='column_methods_hash identifier id'>column_methods_hash</span> 
  <span class='@dynamic_methods_hash ivar id'>@dynamic_methods_hash</span> <span class='opasgn op'>||=</span> <span class='column_names identifier id'>column_names</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='methods identifier id'>methods</span><span class='comma token'>,</span> <span class='attr identifier id'>attr</span><span class='bitor op'>|</span>
    <span class='attr_name identifier id'>attr_name</span> <span class='assign token'>=</span> <span class='attr identifier id'>attr</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='methods identifier id'>methods</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>       <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span>
    <span class='methods identifier id'>methods</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{attr}=&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span>
    <span class='methods identifier id'>methods</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{attr}?&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span>
    <span class='methods identifier id'>methods</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{attr}_before_type_cast&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span>
    <span class='methods identifier id'>methods</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="column_names-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>column_names</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of column names as strings.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


859
860
861</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 859</span>

<span class='def def kw'>def</span> <span class='column_names identifier id'>column_names</span>
  <span class='@column_names ivar id'>@column_names</span> <span class='assign token'>=</span> <span class='columns_hash identifier id'>columns_hash</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="columns-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>columns</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Override this method in the subclasses to add new columns. This is
different from ActiveRecord because the number of columns in an Hbase table
is variable.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


832
833
834</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 832</span>

<span class='def def kw'>def</span> <span class='columns identifier id'>columns</span>
  <span class='@columns ivar id'>@columns</span> <span class='assign token'>=</span> <span class='columns_hash identifier id'>columns_hash</span><span class='dot token'>.</span><span class='values identifier id'>values</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="columns_hash-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>columns_hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a hash of column objects for the table associated with this class.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 837</span>

<span class='def def kw'>def</span> <span class='columns_hash identifier id'>columns_hash</span>
  <span class='unless unless kw'>unless</span> <span class='@all_columns_hash ivar id'>@all_columns_hash</span>
    <span class='comment val'># add default hbase columns</span>
    <span class='@all_columns_hash ivar id'>@all_columns_hash</span> <span class='assign token'>=</span>
      <span class='if if kw'>if</span> <span class='self self kw'>self</span> <span class='eq op'>==</span> <span class='base_class identifier id'>base_class</span>
        <span class='if if kw'>if</span> <span class='@columns_hash ivar id'>@columns_hash</span>
          <span class='default_columns identifier id'>default_columns</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@columns_hash ivar id'>@columns_hash</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='@columns_hash ivar id'>@columns_hash</span> <span class='assign token'>=</span> <span class='default_columns identifier id'>default_columns</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='if if kw'>if</span> <span class='@columns_hash ivar id'>@columns_hash</span>
          <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='columns_hash identifier id'>columns_hash</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@columns_hash ivar id'>@columns_hash</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='columns_hash identifier id'>columns_hash</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='@all_columns_hash ivar id'>@all_columns_hash</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="content_columns-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>content_columns</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of column objects where the primary id, all columns ending
in &quot;_id&quot; or &quot;_count&quot;, and columns used for single table
inheritance have been removed.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


865
866
867</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 865</span>

<span class='def def kw'>def</span> <span class='content_columns identifier id'>content_columns</span>
  <span class='@content_columns ivar id'>@content_columns</span> <span class='opasgn op'>||=</span> <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='primary identifier id'>primary</span> <span class='orop op'>||</span> <span class='string val'>&quot;id&quot;</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_accessible_attributes-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>create_accessible_attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of all the attributes that have been specified as
create_accessible.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1046
1047
1048</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1046</span>

<span class='def def kw'>def</span> <span class='create_accessible_attributes identifier id'>create_accessible_attributes</span>
 <span class='read_inheritable_attribute identifier id'>read_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_create_accessible</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="default_column_prefix-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>default_column_prefix</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Default column prefix used when auto-generating column attribute names
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1051
1052
1053</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1051</span>

<span class='def def kw'>def</span> <span class='default_column_prefix identifier id'>default_column_prefix</span>
  <span class='string val'>&quot;&quot;</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="human_attribute_name-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>human_attribute_name</strong>(attribute_key_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transforms attribute key names into a more humane format, such as
&quot;First name&quot; instead of &quot;first_name&quot;. Example:
</p>
<pre class="code">
  <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='human_attribute_name identifier id'>human_attribute_name</span><span class='lparen token'>(</span><span class='string val'>&quot;first_name&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; &quot;First name&quot;</span>
</pre>
<p>
Deprecated in favor of just calling &quot;first_name&quot;.humanize
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


930
931
932</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 930</span>

<span class='def def kw'>def</span> <span class='human_attribute_name identifier id'>human_attribute_name</span><span class='lparen token'>(</span><span class='attribute_key_name identifier id'>attribute_key_name</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='attribute_key_name identifier id'>attribute_key_name</span><span class='dot token'>.</span><span class='humanize identifier id'>humanize</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inherited-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>inherited</strong>(child) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 68</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='inherited identifier id'>inherited</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='@@subclasses ivar id'>@@subclasses</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@@subclasses ivar id'>@@subclasses</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='child identifier id'>child</span>
  <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='set_table_name identifier id'>set_table_name</span> <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='tableize identifier id'>tableize</span> <span class='if if_mod kw'>if</span> <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="instantiate-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>instantiate</strong>(raw_record) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Finder methods must instantiate through this method.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


939
940
941
942
943
944
945
946</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 939</span>

<span class='def def kw'>def</span> <span class='instantiate identifier id'>instantiate</span><span class='lparen token'>(</span><span class='raw_record identifier id'>raw_record</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='allocate identifier id'>allocate</span>
  <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='raw_record identifier id'>raw_record</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='preinitialize identifier id'>preinitialize</span><span class='lparen token'>(</span><span class='raw_record identifier id'>raw_record</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span><span class='symbol val'>:@new_record</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;safe_attributes=&quot;</span><span class='comma token'>,</span> <span class='raw_record identifier id'>raw_record</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="primary_key-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>primary_key</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Evaluate the name of the column of the primary key only once
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


784
785
786</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 784</span>

<span class='def def kw'>def</span> <span class='primary_key identifier id'>primary_key</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="protected_attributes-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>protected_attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of all the attributes that have been protected from
mass-assignment.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


977
978
979</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 977</span>

<span class='def def kw'>def</span> <span class='protected_attributes identifier id'>protected_attributes</span> 
  <span class='read_inheritable_attribute identifier id'>read_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_protected</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="quote_value-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>quote_value</strong>(value, c = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


934
935
936</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 934</span>

<span class='def def kw'>def</span> <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='comma token'>,</span><span class='c identifier id'>c</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read_methods-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>read_methods</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Contains the names of the generated reader methods.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


923
924
925</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 923</span>

<span class='def def kw'>def</span> <span class='read_methods identifier id'>read_methods</span> 
  <span class='@read_methods ivar id'>@read_methods</span> <span class='opasgn op'>||=</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readonly_attributes-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>readonly_attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of all the attributes that have been specified as
readonly.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1020
1021
1022</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1020</span>

<span class='def def kw'>def</span> <span class='readonly_attributes identifier id'>readonly_attributes</span>
 <span class='read_inheritable_attribute identifier id'>read_inheritable_attribute</span><span class='lparen token'>(</span><span class='symbol val'>:attr_readonly</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reset_subclasses-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>reset_subclasses</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 75</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reset_subclasses identifier id'>reset_subclasses</span> 
  <span class='nonreloadables identifier id'>nonreloadables</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='subclasses identifier id'>subclasses</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='bitor op'>|</span>
    <span class='unless unless kw'>unless</span> <span class='Dependencies constant id'>Dependencies</span><span class='dot token'>.</span><span class='autoloaded? fid id'>autoloaded?</span> <span class='klass identifier id'>klass</span>
      <span class='nonreloadables identifier id'>nonreloadables</span> <span class='lshft op'>&lt;&lt;</span> <span class='klass identifier id'>klass</span>
      <span class='next next kw'>next</span>
    <span class='end end kw'>end</span>
    <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='instance_variables identifier id'>instance_variables</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='var identifier id'>var</span><span class='bitor op'>|</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:remove_instance_variable</span><span class='comma token'>,</span> <span class='var identifier id'>var</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='instance_methods identifier id'>instance_methods</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:undef_method</span><span class='comma token'>,</span> <span class='m identifier id'>m</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='@@subclasses ivar id'>@@subclasses</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='nonreloadables identifier id'>nonreloadables</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='bitor op'>|</span> <span class='lparen token'>(</span><span class='@@subclasses ivar id'>@@subclasses</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='superclass identifier id'>superclass</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='klass identifier id'>klass</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="silence-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>silence</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Silences the logger for the duration of the block.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


814
815
816
817
818
819</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 814</span>

<span class='def def kw'>def</span> <span class='silence identifier id'>silence</span>
  <span class='old_logger_level identifier id'>old_logger_level</span><span class='comma token'>,</span> <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='level identifier id'>level</span> <span class='assign token'>=</span> <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='level identifier id'>level</span><span class='comma token'>,</span> <span class='Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='ERROR constant id'>ERROR</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='yield yield kw'>yield</span>
<span class='ensure ensure kw'>ensure</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='level identifier id'>level</span> <span class='assign token'>=</span> <span class='old_logger_level identifier id'>old_logger_level</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="store_primary_key?-class_method">
  
    + (<tt>Boolean</tt>) <strong>store_primary_key?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 91</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='store_primary_key? fid id'>store_primary_key?</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="undecorated_table_name-class_method">
  
    + (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>undecorated_table_name</strong>(class_name = base_class.name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Guesses the table name, but does not decorate it with prefix and suffix
information.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1093
1094
1095
1096
1097</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 1093</span>

<span class='def def kw'>def</span> <span class='undecorated_table_name identifier id'>undecorated_table_name</span><span class='lparen token'>(</span><span class='class_name identifier id'>class_name</span> <span class='assign token'>=</span> <span class='base_class identifier id'>base_class</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='table_name identifier id'>table_name</span> <span class='assign token'>=</span> <span class='Inflector constant id'>Inflector</span><span class='dot token'>.</span><span class='underscore identifier id'>underscore</span><span class='lparen token'>(</span><span class='Inflector constant id'>Inflector</span><span class='dot token'>.</span><span class='demodulize identifier id'>demodulize</span><span class='lparen token'>(</span><span class='class_name identifier id'>class_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='table_name identifier id'>table_name</span> <span class='assign token'>=</span> <span class='Inflector constant id'>Inflector</span><span class='dot token'>.</span><span class='pluralize identifier id'>pluralize</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='pluralize_table_names identifier id'>pluralize_table_names</span>
  <span class='table_name identifier id'>table_name</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="==-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>==</strong>(comparison_object) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if the <tt>comparison_object</tt> is the same object, or is of
the same type and has the same id.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 310</span>

<span class='def def kw'>def</span> <span class='eq op'>==</span><span class='lparen token'>(</span><span class='comparison_object identifier id'>comparison_object</span><span class='rparen token'>)</span>
  <span class='comparison_object identifier id'>comparison_object</span><span class='dot token'>.</span><span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='orop op'>||</span>
    <span class='lparen token'>(</span><span class='comparison_object identifier id'>comparison_object</span><span class='dot token'>.</span><span class='instance_of? fid id'>instance_of?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span>
      <span class='comparison_object identifier id'>comparison_object</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='id identifier id'>id</span> <span class='andop op'>&amp;&amp;</span>
      <span class='notop op'>!</span><span class='comparison_object identifier id'>comparison_object</span><span class='dot token'>.</span><span class='new_record? fid id'>new_record?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="[]-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>[]</strong>(attr_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.new(2004, 12, 12)). (Alias for the
protected read_attribute method).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 225</span>

<span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="[]=-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>[]=</strong>(attr_name, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Updates the attribute identified by <tt>attr_name</tt> with the specified
<tt>value</tt>. (Alias for the protected write_attribute method).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 231</span>

<span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="all_attributes_loaded=-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>all_attributes_loaded=</strong>(loaded) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 255</span>

<span class='def def kw'>def</span> <span class='all_attributes_loaded= identifier id'>all_attributes_loaded=</span><span class='lparen token'>(</span><span class='loaded identifier id'>loaded</span><span class='rparen token'>)</span>
  <span class='@all_attributes_loaded ivar id'>@all_attributes_loaded</span> <span class='assign token'>=</span> <span class='loaded identifier id'>loaded</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="all_attributes_loaded?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>all_attributes_loaded?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 259</span>

<span class='def def kw'>def</span> <span class='all_attributes_loaded? fid id'>all_attributes_loaded?</span>
  <span class='@all_attributes_loaded ivar id'>@all_attributes_loaded</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute_for_inspect-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attribute_for_inspect</strong>(attr_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Format attributes nicely for inspect.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266
267
268
269
270
271
272
273
274</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 264</span>

<span class='def def kw'>def</span> <span class='attribute_for_inspect identifier id'>attribute_for_inspect</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>50</span>
    <span class='dstring node'>&quot;#{value[0..50]}...&quot;</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
  <span class='elsif elsif kw'>elsif</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Date constant id'>Date</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Time constant id'>Time</span><span class='rparen token'>)</span>
    <span class='dstring node'>%(&quot;#{value.to_s(:db)}&quot;)</span>
  <span class='else else kw'>else</span>
    <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute_names-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attribute_names</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an array of names for the attributes available on this object
sorted alphabetically.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 295</span>

<span class='def def kw'>def</span> <span class='attribute_names identifier id'>attribute_names</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute_present?-instance_method">
  
    - (<tt>String</tt>, ...) <strong>attribute_present?</strong>(attribute) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if the specified <tt>attribute</tt> has been set by the user
or by a database load and is neither nil nor empty? (the latter only
applies to objects that respond to empty?, most notably Strings).
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Name of an attribute.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Whether that attribute exists.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 281</span>

<span class='def def kw'>def</span> <span class='attribute_present? fid id'>attribute_present?</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span><span class='value identifier id'>value</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span> <span class='or or kw'>or</span> <span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attributes-instance_method">
  
    - (<tt>Hash</tt>) <strong>attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the attributes hash of the object.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
a duplicated attributes hash
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 207</span>

<span class='def def kw'>def</span> <span class='attributes identifier id'>attributes</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attributes=-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>attributes=</strong>(new_attributes, guard_protected_attributes = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Allows you to set all the attributes at once by passing in a hash with keys
matching the attribute names (which again matches the column names).
Sensitive attributes can be protected from this form of mass-assignment by
using the <tt>attr_protected</tt> macro. Or you can alternatively specify
which attributes <b>can</b> be accessed in with the
<tt>attr_accessible</tt> macro. Then all the attributes not included in
that won&#8217;t be allowed to be mass-assigned.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 240</span>

<span class='def def kw'>def</span> <span class='attributes= identifier id'>attributes=</span><span class='lparen token'>(</span><span class='new_attributes identifier id'>new_attributes</span><span class='comma token'>,</span> <span class='guard_protected_attributes identifier id'>guard_protected_attributes</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='new_attributes identifier id'>new_attributes</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='new_attributes identifier id'>new_attributes</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='stringify_keys! fid id'>stringify_keys!</span>

  <span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='remove_attributes_protected_from_mass_assignment identifier id'>remove_attributes_protected_from_mass_assignment</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='guard_protected_attributes identifier id'>guard_protected_attributes</span>

  <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&quot;(&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span> <span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span> <span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='k identifier id'>k</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='assign_multiparameter_attributes identifier id'>assign_multiparameter_attributes</span><span class='lparen token'>(</span><span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="column_for_attribute-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>column_for_attribute</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Overridden by FamilySpanColumns Returns the column object for the named
attribute.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 305</span>

<span class='def def kw'>def</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='columns_hash identifier id'>columns_hash</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="connection-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>connection</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the connection adapter of the current session.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 413</span>

<span class='def def kw'>def</span> <span class='connection identifier id'>connection</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deserialize-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>deserialize</strong>(attrs = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 157</span>

<span class='def def kw'>def</span> <span class='deserialize identifier id'>deserialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="destroy-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>destroy</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#8217;t be persisted).
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 390</span>

<span class='def def kw'>def</span> <span class='destroy identifier id'>destroy</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="eql?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>eql?</strong>(comparison_object) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delegates to ==
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


318
319
320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 318</span>

<span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span><span class='comparison_object identifier id'>comparison_object</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span> <span class='eq op'>==</span> <span class='lparen token'>(</span><span class='comparison_object identifier id'>comparison_object</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="freeze-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>freeze</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Just freeze the attributes hash, such that associations are still
accessible even on destroyed records.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 350</span>

<span class='def def kw'>def</span> <span class='freeze identifier id'>freeze</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='semicolon token'>;</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="frozen?-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>frozen?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Checks whether the object has had its attributes hash frozen.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


357
358
359</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 357</span>

<span class='def def kw'>def</span> <span class='frozen? fid id'>frozen?</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='frozen? fid id'>frozen?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_attribute?-instance_method">
  
    - (<tt>String</tt>, ...) <strong>has_attribute?</strong>(attr_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if the given attribute is in the attributes hash
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Name of an attribute.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Whether that attribute exists in the attributes hash.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 290</span>

<span class='def def kw'>def</span> <span class='has_attribute? fid id'>has_attribute?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hash-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delegates to id in order to allow two records of the same type and id to
work with something like:
</p>
<pre class="code">
  <span class='lbrack token'>[</span> <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='rbrack token'>]</span> <span class='bitand op'>&amp;</span> <span class='lbrack token'>[</span> <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span> <span class='rbrack token'>]</span> <span class='comment val'># =&gt; [ Person.find(1) ]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


324
325
326</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 324</span>

<span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
  <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="human_attribute_name-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>human_attribute_name</strong>(attribute_key) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 299</span>

<span class='def def kw'>def</span> <span class='human_attribute_name identifier id'>human_attribute_name</span><span class='lparen token'>(</span><span class='attribute_key identifier id'>attribute_key</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='human_attribute_name identifier id'>human_attribute_name</span><span class='lparen token'>(</span><span class='attribute_key identifier id'>attribute_key</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="id-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>id</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A model instance&#8217;s primary key is always available as model.id
whether you name it the default &#8216;id&#8217; or set it to something
else.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 190</span>

<span class='def def kw'>def</span> <span class='id identifier id'>id</span>
  <span class='attr_name identifier id'>attr_name</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span>
  <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='define_read_method identifier id'>define_read_method</span><span class='lparen token'>(</span><span class='symbol val'>:id</span><span class='comma token'>,</span> <span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='generate_read_methods identifier id'>generate_read_methods</span>
  <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="id=-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>id=</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets the primary ID.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 366</span>

<span class='def def kw'>def</span> <span class='id= identifier id'>id=</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the contents of the record as a nicely formatted string.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


428
429
430
431
432
433
434
435</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 428</span>

<span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='attributes_as_nice_string identifier id'>attributes_as_nice_string</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='column_names identifier id'>column_names</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='has_attribute? fid id'>has_attribute?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='new_record? fid id'>new_record?</span>
      <span class='dstring node'>&quot;#{name}: #{attribute_for_inspect(name)}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;, &quot;</span><span class='rparen token'>)</span>
  <span class='dstring node'>&quot;#&lt;#{self.class} #{attributes_as_nice_string}&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_record?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>new_record?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this object hasn&#8217;t been saved yet &#8212; that is, a
record for the object doesn&#8217;t yet exist in the data store.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 372</span>

<span class='def def kw'>def</span> <span class='new_record? fid id'>new_record?</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="preinitialize-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>preinitialize</strong>(attrs = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Callback method meant to be overriden by subclasses if they need to preload
some attributes before initializing the record. (usefull when using a meta
model where the list of columns depends on the value of an attribute)
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 153</span>

<span class='def def kw'>def</span> <span class='preinitialize identifier id'>preinitialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@attributes ivar id'>@attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="quoted_id-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>quoted_id</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


361
362
363</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 361</span>

<span class='def def kw'>def</span> <span class='quoted_id identifier id'>quoted_id</span> 
  <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readonly!-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>readonly!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets the record to be readonly
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423
424
425</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 423</span>

<span class='def def kw'>def</span> <span class='readonly! fid id'>readonly!</span> 
  <span class='@readonly ivar id'>@readonly</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readonly?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>readonly?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Records loaded through joins with piggy-back attributes will be marked as
read only as they cannot be saved and return true to this query.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 418</span>

<span class='def def kw'>def</span> <span class='readonly? fid id'>readonly?</span>
  <span class='@readonly ivar id'>@readonly</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reload-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>reload</strong>(options = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Reloads the attributes of this object from the database. The optional
options argument is passed to find when reloading so you may do e.g.
record.reload(:lock =&gt; true) to reload the same record with an exclusive
row lock.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
Itself with reloaded attributes.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 217</span>

<span class='def def kw'>def</span> <span class='reload identifier id'>reload</span><span class='lparen token'>(</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span><span class='string val'>'@attributes'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="respond_to?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>respond_to?</strong>(method, include_priv = false) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='respond_to_without_attributes?-instance_method'>respond_to_without_attributes?</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
A Person object with a name attribute can ask
person.respond_to?(&quot;name&quot;),
person.respond_to?(&quot;name=&quot;), and
person.respond_to?(&quot;name?&quot;) which will all return true.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


333
334
335
336
337
338
339
340
341
342
343
344
345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 333</span>

<span class='def def kw'>def</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='include_priv identifier id'>include_priv</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='return return kw'>return</span> <span class='super super kw'>super</span>
  <span class='elsif elsif kw'>elsif</span> <span class='attr_name identifier id'>attr_name</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='column_methods_hash identifier id'>column_methods_hash</span><span class='lbrack token'>[</span><span class='method identifier id'>method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='attr_name identifier id'>attr_name</span> <span class='eq op'>==</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='read_methods identifier id'>read_methods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='elsif elsif kw'>elsif</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='match_attribute_method? fid id'>match_attribute_method?</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='md identifier id'>md</span><span class='dot token'>.</span><span class='pre_match identifier id'>pre_match</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># super must be called at the end of the method, because the inherited respond_to?</span>
  <span class='comment val'># would return true for generated readers, even if the attribute wasn't present</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="safe_attributes=-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>safe_attributes=</strong>(new_attributes, guard_protected_attributes = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Safe version of attributes= so that objects can be instantiated even if
columns are removed.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>Attribute</span>
      
      
      
        &mdash;
        <div class='inline'><p>
hash consisting of the column name and their values.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <span class='name'>Pass</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the attributes hash through
<tt><a href="#remove_attributes_protected_from_mass_assignment-instance_method" title="BigRecord::Model#remove_attributes_protected_from_mass_assignment (method)">#remove_attributes_protected_from_mass_assignment</a></tt>
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 165</span>

<span class='def def kw'>def</span> <span class='safe_attributes= identifier id'>safe_attributes=</span><span class='lparen token'>(</span><span class='new_attributes identifier id'>new_attributes</span><span class='comma token'>,</span> <span class='guard_protected_attributes identifier id'>guard_protected_attributes</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='new_attributes identifier id'>new_attributes</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='new_attributes identifier id'>new_attributes</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='stringify_keys! fid id'>stringify_keys!</span>

  <span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='remove_attributes_protected_from_mass_assignment identifier id'>remove_attributes_protected_from_mass_assignment</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='guard_protected_attributes identifier id'>guard_protected_attributes</span>

  <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='begin begin kw'>begin</span>
      <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&quot;(&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span> <span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span> <span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='k identifier id'>k</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='v identifier id'>v</span>
    <span class='rescue rescue kw'>rescue</span>
      <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;#{__FILE__}:#{__LINE__} Warning! Ignoring attribute '#{k}' because it doesn't exist anymore&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='begin begin kw'>begin</span>
    <span class='assign_multiparameter_attributes identifier id'>assign_multiparameter_attributes</span><span class='lparen token'>(</span><span class='multi_parameter_attributes identifier id'>multi_parameter_attributes</span><span class='rparen token'>)</span>
  <span class='rescue rescue kw'>rescue</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;#{__FILE__}:#{__LINE__} Warning! Ignoring multiparameter attributes because some don't exist anymore&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>save</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <ul>
<li>No record exists: Creates a new record with values matching those of the
object attributes.

</li>
<li>A record does exist: Updates the record with values matching those of the
object attributes.

</li>
</ul>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 378</span>

<span class='def def kw'>def</span> <span class='save identifier id'>save</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save!-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>save!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attempts to save the record, but instead of just returning false if it
couldn&#8217;t happen, it raises a RecordNotSaved exception
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 384</span>

<span class='def def kw'>def</span> <span class='save! fid id'>save!</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_s-instance_method">
  
    - (<tt>String</tt>) <strong>to_s</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Default to_s method that just returns invokes the <tt><a href="#id-instance_method" title="BigRecord::Model#id (method)">#id</a></tt> method
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
The row identifier/id of the record
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 200</span>

<span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='id identifier id'>id</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_attribute-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>update_attribute</strong>(name, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Updates a single attribute and saves the record. This is especially useful
for boolean flags on existing records. Note: This method is overwritten by
the Validation module that&#8217;ll make sure that updates made with this
method doesn&#8217;t get subjected to validation checks. Hence, attributes
can be updated even if the full object isn&#8217;t valid.
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 397</span>

<span class='def def kw'>def</span> <span class='update_attribute identifier id'>update_attribute</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_attributes-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>update_attributes</strong>(attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Updates all the attributes from the passed-in Hash and saves the record. If
the object is invalid, the saving will fail and false will be returned.
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 403</span>

<span class='def def kw'>def</span> <span class='update_attributes identifier id'>update_attributes</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_attributes!-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>update_attributes!</strong>(attributes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Updates an object just like Base.update_attributes but calls save! instead
of save so an exception is raised if the record is invalid.
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><a href="NotImplemented.html" title="BigRecord::NotImplemented (class)">NotImplemented</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/big_record/model.rb', line 408</span>

<span class='def def kw'>def</span> <span class='update_attributes! fid id'>update_attributes!</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Wed May  5 15:04:00 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.4 (ruby-1.8.7).
</div>

  </body>
</html>