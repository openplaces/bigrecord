<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../custom.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: BigRecord::BrAssociations::BelongsToManyAssociation</title>
  </head>
  <body>
    <div id="content">
      <div class="section class BigRecord_BrAssociations_BelongsToManyAssociation">
  <h1 class="title">Class: BigRecord::BrAssociations::BelongsToManyAssociation</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="AssociationProxy.html" title="BigRecord::BrAssociations::AssociationProxy">BigRecord::BrAssociations::AssociationProxy</a></li><ul><li>BigRecord::BrAssociations::BelongsToManyAssociation</li>
  </ul></ul>
</div><div class="section constants">
  
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <p class="inherited_msg">
    This class inherits a constructor from <a href="AssociationProxy.html#initialize-instance_method" title="BigRecord::BrAssociations::AssociationProxy">BigRecord::BrAssociations::AssociationProxy</a>.
  </p>
</div><div class="section methodmissing">
  <h1>Dynamic Method Handling</h1>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <a href="AssociationProxy.html" title="BigRecord::BrAssociations::AssociationProxy">BigRecord::BrAssociations::AssociationProxy</a>
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>private</span>
      <span class='return_types'></span>
      <span class='name'>method_missing</span><span class='args'>(method, *args, &amp;block)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


116
117
118
119
120</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/association_proxy.rb', line 116</span>

<span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='load_target identifier id'>load_target</span>
    <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#%3C%3C-instance_method" title="#&lt;&lt;">#&lt;&lt;</a></span><span class='args'>(*records)</span>
            <span class='block'></span>
          </span>
        
        
          <span class='alias'>#push</span>
        
      </th>
      <td class="docstring">
        <p>
Add <tt>records</tt> to this association.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#build-instance_method" title="#build">#build</a></span><span class='args'>(attributes = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#clear-instance_method" title="#clear">#clear</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Removes all records from this association.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#count-instance_method" title="#count">#count</a></span><span class='args'>(*args)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Count the number of associated records.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#create-instance_method" title="#create">#create</a></span><span class='args'>(attributes = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#delete-instance_method" title="#delete">#delete</a></span><span class='args'>(*records)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
# Calculate sum using SQL, not Enumerable
</p>
<pre class="code">
     <span class='def def kw'>def</span> <span class='sum identifier id'>sum</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
       <span class='calculate identifier id'>calculate</span><span class='lparen token'>(</span><span class='symbol val'>:sum</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
     <span class='end end kw'>end</span>
</pre>
<p>
Remove <tt>records</tt> from this association.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#destroy_all-instance_method" title="#destroy_all">#destroy_all</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#empty%3F-instance_method" title="#empty?">#empty?</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#find-instance_method" title="#find">#find</a></span><span class='args'>(*args)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#length-instance_method" title="#length">#length</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the size of the collection by loading it and calling size on the
array.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#replace-instance_method" title="#replace">#replace</a></span><span class='args'>(other_array)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Replace this collection with <tt>other_array</tt> This will perform a diff
and delete/add only records that have changed.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#reset-instance_method" title="#reset">#reset</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#size-instance_method" title="#size">#size</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the size of the collection by executing a SELECT COUNT(*) query if
the collection hasn&#8217;t been loaded and calling collection.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#to_ary-instance_method" title="#to_ary">#to_ary</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#uniq-instance_method" title="#uniq">#uniq</a></span><span class='args'>(collection = self)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#updated%3F-instance_method" title="#updated?">#updated?</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
<div class="inherited">
  
  <div>
    <h1>Public Instance Methods Inherited from <a href="AssociationProxy.html" title="BigRecord::BrAssociations::AssociationProxy">BigRecord::BrAssociations::AssociationProxy</a></h1>
    <p><span class='name'><a href="AssociationProxy.html#%3D%3D%3D-instance_method" title="===">===</a></span>, <span class='name'><a href="AssociationProxy.html#aliased_table_name-instance_method" title="aliased_table_name">aliased_table_name</a></span>, <span class='name'><a href="AssociationProxy.html#loaded-instance_method" title="loaded">loaded</a></span>, <span class='name'><a href="AssociationProxy.html#loaded%3F-instance_method" title="loaded?">loaded?</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_owner-instance_method" title="proxy_owner">proxy_owner</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_reflection-instance_method" title="proxy_reflection">proxy_reflection</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_target-instance_method" title="proxy_target">proxy_target</a></span>, <span class='name'><a href="AssociationProxy.html#reload-instance_method" title="reload">reload</a></span>, <span class='name'><a href="AssociationProxy.html#respond_to%3F-instance_method" title="respond_to?">respond_to?</a></span>, <span class='name'><a href="AssociationProxy.html#target-instance_method" title="target">target</a></span>, <span class='name'><a href="AssociationProxy.html#target%3D-instance_method" title="target=">target=</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h1>Public Instance Methods Included from <a href="AssociationProxy.html" title="BigRecord::BrAssociations::AssociationProxy">BigRecord::BrAssociations::AssociationProxy</a></h1>
    <p><span class='name'><a href="AssociationProxy.html#%3D%3D%3D-instance_method" title="===">===</a></span>, <span class='name'><a href="AssociationProxy.html#aliased_table_name-instance_method" title="aliased_table_name">aliased_table_name</a></span>, <span class='name'><a href="AssociationProxy.html#loaded-instance_method" title="loaded">loaded</a></span>, <span class='name'><a href="AssociationProxy.html#loaded%3F-instance_method" title="loaded?">loaded?</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_owner-instance_method" title="proxy_owner">proxy_owner</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_reflection-instance_method" title="proxy_reflection">proxy_reflection</a></span>, <span class='name'><a href="AssociationProxy.html#proxy_target-instance_method" title="proxy_target">proxy_target</a></span>, <span class='name'><a href="AssociationProxy.html#reload-instance_method" title="reload">reload</a></span>, <span class='name'><a href="AssociationProxy.html#respond_to%3F-instance_method" title="respond_to?">respond_to?</a></span>, <span class='name'><a href="AssociationProxy.html#target-instance_method" title="target">target</a></span>, <span class='name'><a href="AssociationProxy.html#target%3D-instance_method" title="target=">target=</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="<<-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'><<</span><span class='args'>(*records)</span>
      <span class='block'></span>
    </tt>
  </div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="push-instance_method">push</tt>
  
</p>
</div><div class="section docstring">
  <p>
Add <tt>records</tt> to this association. Returns <tt>self</tt> so method
calls may be chained. Since &lt;&lt; flattens its argument list and inserts
each record, <tt>push</tt> and <tt>concat</tt> behave identically.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 16</span>

<span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='records identifier id'>records</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='load_target identifier id'>load_target</span>

  <span class='flatten_deeper identifier id'>flatten_deeper</span><span class='lparen token'>(</span><span class='records identifier id'>records</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='raise_on_type_mismatch identifier id'>raise_on_type_mismatch</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span>
    <span class='callback identifier id'>callback</span><span class='lparen token'>(</span><span class='symbol val'>:before_add</span><span class='comma token'>,</span> <span class='record identifier id'>record</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span> <span class='opasgn op'>&amp;&amp;=</span> <span class='insert_record identifier id'>insert_record</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span>
    <span class='@target ivar id'>@target</span> <span class='lshft op'>&lt;&lt;</span> <span class='record identifier id'>record</span>
    <span class='callback identifier id'>callback</span><span class='lparen token'>(</span><span class='symbol val'>:after_add</span><span class='comma token'>,</span> <span class='record identifier id'>record</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='result identifier id'>result</span> <span class='andop op'>&amp;&amp;</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build</h3>
</div><div id="build-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>build</span><span class='args'>(attributes = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 187</span>

<span class='def def kw'>def</span> <span class='build identifier id'>build</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span> <span class='build identifier id'>build</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='record identifier id'>record</span> <span class='assign token'>=</span> <span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
    <span class='set_belongs_to_association_for identifier id'>set_belongs_to_association_for</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span>

    <span class='@target ivar id'>@target</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='loaded? fid id'>loaded?</span>
    <span class='@target ivar id'>@target</span> <span class='lshft op'>&lt;&lt;</span> <span class='record identifier id'>record</span>

    <span class='record identifier id'>record</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear</h3>
</div><div id="clear-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>clear</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Removes all records from this association. Returns <tt>self</tt> so method
calls may be chained.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


62
63
64
65
66
67
68
69
70
71
72</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 62</span>

<span class='def def kw'>def</span> <span class='clear identifier id'>clear</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='length identifier id'>length</span><span class='dot token'>.</span><span class='zero? fid id'>zero?</span> <span class='comment val'># forces load_target if hasn't happened already</span>

  <span class='if if kw'>if</span> <span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:dependent</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:dependent</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='symbol val'>:delete_all</span>
    <span class='destroy_all identifier id'>destroy_all</span>
  <span class='else else kw'>else</span>
    <span class='delete_all identifier id'>delete_all</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>count</h3>
</div><div id="count-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>count</span><span class='args'>(*args)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Count the number of associated records. All arguments are optional.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


202
203
204
205</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 202</span>

<span class='def def kw'>def</span> <span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='load_target identifier id'>load_target</span>
  <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create</h3>
</div><div id="create-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>create</span><span class='args'>(attributes = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


83
84
85
86
87
88
89
90
91
92</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 83</span>

<span class='def def kw'>def</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='comment val'># Can't use Base.create since the foreign key may be a protected attribute.</span>
  <span class='if if kw'>if</span> <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='record identifier id'>record</span> <span class='assign token'>=</span> <span class='build identifier id'>build</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
    <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='save identifier id'>save</span> <span class='unless unless_mod kw'>unless</span> <span class='@owner ivar id'>@owner</span><span class='dot token'>.</span><span class='new_record? fid id'>new_record?</span>
    <span class='record identifier id'>record</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>delete</span><span class='args'>(*records)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
# Calculate sum using SQL, not Enumerable
</p>
<pre class="code">
     <span class='def def kw'>def</span> <span class='sum identifier id'>sum</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
       <span class='calculate identifier id'>calculate</span><span class='lparen token'>(</span><span class='symbol val'>:sum</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
     <span class='end end kw'>end</span>
</pre>
<p>
Remove <tt>records</tt> from this association. Does not destroy
<tt>records</tt>.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 47</span>

<span class='def def kw'>def</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='records identifier id'>records</span><span class='rparen token'>)</span>
  <span class='records identifier id'>records</span> <span class='assign token'>=</span> <span class='flatten_deeper identifier id'>flatten_deeper</span><span class='lparen token'>(</span><span class='records identifier id'>records</span><span class='rparen token'>)</span>
  <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='raise_on_type_mismatch identifier id'>raise_on_type_mismatch</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='new_record? fid id'>new_record?</span> <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='callback identifier id'>callback</span><span class='lparen token'>(</span><span class='symbol val'>:before_remove</span><span class='comma token'>,</span> <span class='record identifier id'>record</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='delete_records identifier id'>delete_records</span><span class='lparen token'>(</span><span class='records identifier id'>records</span><span class='rparen token'>)</span>
  <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='rparen token'>)</span>
    <span class='callback identifier id'>callback</span><span class='lparen token'>(</span><span class='symbol val'>:after_remove</span><span class='comma token'>,</span> <span class='record identifier id'>record</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy_all</h3>
</div><div id="destroy_all-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>destroy_all</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


74
75
76
77
78
79
80
81</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 74</span>

<span class='def def kw'>def</span> <span class='destroy_all identifier id'>destroy_all</span>
  <span class='comment val'># HbaseAdapter doesn't support transactions</span>
<span class='comment val'>#        @owner.transaction do</span>
    <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='destroy identifier id'>destroy</span> <span class='rbrace token'>}</span>
<span class='comment val'>#        end</span>

  <span class='reset_target! fid id'>reset_target!</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>empty?</h3>
</div><div id="empty?-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>empty?</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


107
108
109</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 107</span>

<span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span>
  <span class='size identifier id'>size</span><span class='dot token'>.</span><span class='zero? fid id'>zero?</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find</h3>
</div><div id="find-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>find</span><span class='args'>(*args)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 207</span>

<span class='def def kw'>def</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Only find(:all) is supported&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='args identifier id'>args</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span><span class='symbol val'>:all</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='@owner ivar id'>@owner</span><span class='lbrack token'>[</span><span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='primary_key_name identifier id'>primary_key_name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>

  <span class='if if kw'>if</span> <span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:cache</span><span class='rbrack token'>]</span>
    <span class='comment val'># Create the items proxies using the content that is cached</span>
    <span class='records identifier id'>records</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='@owner ivar id'>@owner</span><span class='lbrack token'>[</span><span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='primary_key_name identifier id'>primary_key_name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id identifier id'>id</span><span class='bitor op'>|</span>
      <span class='records identifier id'>records</span> <span class='lshft op'>&lt;&lt;</span> <span class='CachedItemProxyFactory constant id'>CachedItemProxyFactory</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='@owner ivar id'>@owner</span><span class='comma token'>,</span> <span class='@reflection ivar id'>@reflection</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='records identifier id'>records</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Don't throw an exception when the records are not found</span>
    <span class='records identifier id'>records</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='@owner ivar id'>@owner</span><span class='lbrack token'>[</span><span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='primary_key_name identifier id'>primary_key_name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id identifier id'>id</span><span class='bitor op'>|</span>
      <span class='begin begin kw'>begin</span>
        <span class='records identifier id'>records</span> <span class='lshft op'>&lt;&lt;</span> <span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
      <span class='rescue rescue kw'>rescue</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='RecordNotFound constant id'>RecordNotFound</span>
        <span class='comment val'># do nothing</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='records identifier id'>records</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>length</h3>
</div><div id="length-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>length</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the size of the collection by loading it and calling size on the
array. If you want to use this method to check whether the collection is
empty, use collection.length.zero? instead of collection.empty?
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


103
104
105</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 103</span>

<span class='def def kw'>def</span> <span class='length identifier id'>length</span>
  <span class='load_target identifier id'>load_target</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>replace</h3>
</div><div id="replace-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>replace</span><span class='args'>(other_array)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Replace this collection with <tt>other_array</tt> This will perform a diff
and delete/add only records that have changed.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 124</span>

<span class='def def kw'>def</span> <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='other_array identifier id'>other_array</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@target ivar id'>@target</span> <span class='assign token'>=</span> <span class='@owner ivar id'>@owner</span><span class='lbrack token'>[</span><span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='primary_key_name identifier id'>primary_key_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='elsif elsif kw'>elsif</span> <span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='@target ivar id'>@target</span> <span class='assign token'>=</span> <span class='@owner ivar id'>@owner</span><span class='lbrack token'>[</span><span class='@reflection ivar id'>@reflection</span><span class='dot token'>.</span><span class='primary_key_name identifier id'>primary_key_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='raise_on_type_mismatch identifier id'>raise_on_type_mismatch</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

    <span class='load_target identifier id'>load_target</span>
    <span class='other identifier id'>other</span>   <span class='assign token'>=</span> <span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='lt op'>&lt;</span> <span class='integer val'>100</span> <span class='question op'>?</span> <span class='other_array identifier id'>other_array</span> <span class='colon op'>:</span> <span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='to_set identifier id'>to_set</span>
    <span class='current identifier id'>current</span> <span class='assign token'>=</span> <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='lt op'>&lt;</span> <span class='integer val'>100</span> <span class='question op'>?</span> <span class='@target ivar id'>@target</span> <span class='colon op'>:</span> <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='to_set identifier id'>to_set</span>

    <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='notop op'>!</span><span class='other identifier id'>other</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='other_array identifier id'>other_array</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='notop op'>!</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='@updated ivar id'>@updated</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset</h3>
</div><div id="reset-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>reset</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


9
10
11
12</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 9</span>

<span class='def def kw'>def</span> <span class='reset identifier id'>reset</span>
  <span class='@loaded ivar id'>@loaded</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='reset_target! fid id'>reset_target!</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>size</h3>
</div><div id="size-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>size</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the size of the collection by executing a SELECT COUNT(*) query if
the collection hasn&#8217;t been loaded and calling collection.size if it
has. If it&#8217;s more likely than not that the collection does have a
size larger than zero and you need to fetch that collection afterwards,
it&#8217;ll take one less SELECT query if you use length.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


97
98
99</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 97</span>

<span class='def def kw'>def</span> <span class='size identifier id'>size</span>
  <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_ary</h3>
</div><div id="to_ary-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>to_ary</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


4
5
6
7</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 4</span>

<span class='def def kw'>def</span> <span class='to_ary identifier id'>to_ary</span>
  <span class='load_target identifier id'>load_target</span>
  <span class='@target ivar id'>@target</span><span class='dot token'>.</span><span class='to_ary identifier id'>to_ary</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>uniq</h3>
</div><div id="uniq-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>uniq</span><span class='args'>(collection = self)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


111
112
113
114
115
116
117
118
119
120</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 111</span>

<span class='def def kw'>def</span> <span class='uniq identifier id'>uniq</span><span class='lparen token'>(</span><span class='collection identifier id'>collection</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='seen identifier id'>seen</span> <span class='assign token'>=</span> <span class='Set constant id'>Set</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='collection identifier id'>collection</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='kept identifier id'>kept</span><span class='comma token'>,</span> <span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='unless unless kw'>unless</span> <span class='seen identifier id'>seen</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
      <span class='kept identifier id'>kept</span> <span class='lshft op'>&lt;&lt;</span> <span class='record identifier id'>record</span>
      <span class='seen identifier id'>seen</span> <span class='lshft op'>&lt;&lt;</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='id identifier id'>id</span>
    <span class='end end kw'>end</span>
    <span class='kept identifier id'>kept</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>updated?</h3>
</div><div id="updated?-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>updated?</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


143
144
145</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/br_associations/belongs_to_many_association.rb', line 143</span>

<span class='def def kw'>def</span> <span class='updated? fid id'>updated?</span>
  <span class='@updated ivar id'>@updated</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
    <div id="yard_info">
  Generated on Wednesday, November 25 2009 at 02:43:23 PM by 
  <abbr class="yard" title="Yay! A Ruby Documentation Tool"><a href="http://yard.soen.ca">YARD</a></abbr> 
  0.2.3.5 (ruby-1.8.7).
</div>

  </body>
</html>