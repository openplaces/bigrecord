<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../custom.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: BigRecord::Base</title>
  </head>
  <body>
    <div id="content">
      <div class="section class BigRecord_Base">
  <h1 class="title">Class: BigRecord::Base</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a></li><ul><li>BigRecord::Base</li>
  </ul></ul>
</div><div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        
        <tr class="">
          <th class='signature'>
            <span class='name'>modified_attributes</span>
          </td>
          <td class="readwrite">
            [<span id='modified_attributes-instance_method'>R</span><span id='modified_attributes=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>modified_attributes</tt>.
</p>

            
          </td>
        </tr>
        
      
      </table>
    </div>
  
</div>
<div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="VALID_FIND_OPTIONS-constant">VALID_FIND_OPTIONS</dt>
      <dd>[:limit, :offset, :include, :view, :versions, :timestamp,
:include_deleted, :force_reload, :columns, :stop_row]</dd>
    
  </dl>
</div>
<div class="inherited">
  
  <div>
    <h1>Constants Inherited from <a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a></h1>
    <p><span class='name'><a href="AbstractBase.html#ID_FIELD_SEPARATOR-constant" title="ID_FIELD_SEPARATOR">ID_FIELD_SEPARATOR</a></span>, <span class='name'><a href="AbstractBase.html#ID_WHITE_SPACE_CHAR-constant" title="ID_WHITE_SPACE_CHAR">ID_WHITE_SPACE_CHAR</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>initialize</span><span class='args'>(attrs = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table &#8212; hence you can&#8217;t have attributes that aren&#8217;t part
of the table columns.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


19
20
21
22
23</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 19</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@new_record ivar id'>@new_record</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='super super kw'>super</span>
  <span class='attrs identifier id'>attrs</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='set_loaded identifier id'>set_loaded</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='attrs identifier id'>attrs</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div><div class="section methodmissing">
  <h1>Dynamic Method Handling</h1>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a>
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>protected</span>
      <span class='return_types'></span>
      <span class='name'>method_missing</span><span class='args'>(method_id, *args, &amp;block)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Allows access to the object attributes, which are held in the @attributes
hash, as were they first-class methods. So a Person class with a name
attribute can use Person#name and Person#name= and never directly use the
attributes hash &#8212; except for multiple assigns with
ActiveRecord#attributes=. A Milestone class can also ask
Milestone#completed? to test that the completed attribute is not nil or 0.
</p>
<p>
It&#8217;s also possible to instantiate related objects, so a Client class
belonging to the clients table with a master_id foreign key can instantiate
master through Client#master.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/abstract_base.rb', line 608</span>

<span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='method_id identifier id'>method_id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='method_name identifier id'>method_name</span> <span class='assign token'>=</span> <span class='method_id identifier id'>method_id</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='if if kw'>if</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span> <span class='or or kw'>or</span>
      <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='regexp val'>/\?$/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='and and kw'>and</span>
      <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='query_method_name identifier id'>query_method_name</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='pre_match identifier id'>pre_match</span><span class='rparen token'>)</span> <span class='and and kw'>and</span>
      <span class='method_name identifier id'>method_name</span> <span class='assign token'>=</span> <span class='query_method_name identifier id'>query_method_name</span><span class='rparen token'>)</span>
    <span class='define_read_methods identifier id'>define_read_methods</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='read_methods identifier id'>read_methods</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='andop op'>&amp;&amp;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='generate_read_methods identifier id'>generate_read_methods</span>
    <span class='md identifier id'>md</span> <span class='integer val'>? </span><span class='query_attribute identifier id'>query_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='method_name identifier id'>method_name</span>
    <span class='id identifier id'>id</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='match_attribute_method? fid id'>match_attribute_method?</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='attribute_name identifier id'>attribute_name</span><span class='comma token'>,</span> <span class='method_type identifier id'>method_type</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='pre_match identifier id'>pre_match</span><span class='comma token'>,</span> <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='if if kw'>if</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='attribute_name identifier id'>attribute_name</span><span class='rparen token'>)</span>
      <span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='dstring node'>&quot;attribute#{method_type}&quot;</span><span class='comma token'>,</span> <span class='attribute_name identifier id'>attribute_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='super super kw'>super</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <h1>Public Class Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#active_connection_name-class_method" title="active_connection_name">active_connection_name</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#allow_concurrency%3D-class_method" title="allow_concurrency=">allow_concurrency=</a></span><span class='args'>(threaded)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
set concurrency support flag (not thread safe, like most of the methods in
this file).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#base_class-class_method" title="base_class">base_class</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Class</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#clear_active_connection_name-class_method" title="clear_active_connection_name">clear_active_connection_name</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#clear_active_connections%21-class_method" title="clear_active_connections!">clear_active_connections!</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Clears the cache which maps classes to connections.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#clear_reloadable_connections%21-class_method" title="clear_reloadable_connections!">clear_reloadable_connections!</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Clears the cache which maps classes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#column-class_method" title="column">column</a></span><span class='args'>(name, type, options = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#columns_to_find-class_method" title="columns_to_find">columns_to_find</a></span><span class='args'>(options = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Return the list of fully qualified column names, i.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#connected%3F-class_method" title="connected?">connected?</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns true if a connection that&#8217;s accessible to this class have
already been opened.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#connection-class_method" title="connection">connection</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the connection currently associated with the class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#connection%3D-class_method" title="connection=">connection=</a></span><span class='args'>(spec)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Set the connection for the class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#create-class_method" title="create">create</a></span><span class='args'>(attrs = nil)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Creates an object, instantly saves it as a record (if the validation
permits it), and returns it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#default_columns-class_method" title="default_columns">default_columns</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Default columns to create with the model, such as primary key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#default_family-class_method" title="default_family">default_family</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Get the default column family used to store attributes that have no column
family set explicitly.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#default_views-class_method" title="default_views">default_views</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Return the hash of default views which consist of all columns and the
:default named views.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#delete-class_method" title="delete">delete</a></span><span class='args'>(id)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Deletes the record with the given <tt>id</tt> without instantiating an
object first.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#delete_all-class_method" title="delete_all">delete_all</a></span><span class='args'>(conditions = nil)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Deletes all the records that match the <tt>condition</tt> without
instantiating the objects first (and hence not calling the destroy method).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#destroy-class_method" title="destroy">destroy</a></span><span class='args'>(id)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Destroys the record with the given <tt>id</tt> by instantiating the object
and calling #destroy (all the callbacks are the triggered).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#destroy_all-class_method" title="destroy_all">destroy_all</a></span><span class='args'>(conditions = nil)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Destroys the objects for all the records that match the <tt>condition</tt>
by instantiating each object and calling the destroy method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#establish_connection-class_method" title="establish_connection">establish_connection</a></span><span class='args'>(spec = nil)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Establishes the connection to the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#exists%3F-class_method" title="exists?">exists?</a></span><span class='args'>(id)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns true if the given <tt>id</tt> represents the primary key of a
record in the database, false otherwise.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#families-class_method" title="families">families</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Return the list of families for this class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#find-class_method" title="find">find</a></span><span class='args'>(*args)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#find_all_by_id-class_method" title="find_all_by_id">find_all_by_id</a></span><span class='args'>(ids, options = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#hbase_connection-class_method" title="hbase_connection">hbase_connection</a></span><span class='args'>(config)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Establishes a connection to the database that&#8217;s used by all Active
Record objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#inherited-class_method" title="inherited">inherited</a></span><span class='args'>(child)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#log_connections-class_method" title="log_connections">log_connections</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
connection state logging.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#primary_key-class_method" title="primary_key">primary_key</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Return the name of the primary key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#remove_connection-class_method" title="remove_connection">remove_connection</a></span><span class='args'>(klass = self)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Remove the connection for this class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#retrieve_connection-class_method" title="retrieve_connection">retrieve_connection</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Locate the connection of the nearest super class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#scan-class_method" title="scan">scan</a></span><span class='args'>(options = {}, &amp;code)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
HBase scanner utility &#8212; scans the table and executes code on each
record.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#set_default_family-class_method" title="set_default_family">set_default_family</a></span><span class='args'>(name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Set the default column family used to store attributes that have no column
family set explicitly.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#set_table_name-class_method" title="set_table_name">set_table_name</a></span><span class='args'>(name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#single_threaded_active_connections-class_method" title="single_threaded_active_connections">single_threaded_active_connections</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#table_name-class_method" title="table_name">table_name</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#thread_safe_active_connections-class_method" title="thread_safe_active_connections">thread_safe_active_connections</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Retrieve the connection cache.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#truncate-class_method" title="truncate">truncate</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Truncate the table for this model.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#update-class_method" title="update">update</a></span><span class='args'>(id, attributes)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Finds the record from the passed <tt>id</tt>, instantly saves it with the
passed <tt>attributes</tt> (if the validation permits it), and returns it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#update_all-class_method" title="update_all">update_all</a></span><span class='args'>(updates, conditions = nil)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Updates all records with the SET-part of an SQL update statement in
<tt>updates</tt> and returns an integer with the number of rows updated.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#verify_active_connections%21-class_method" title="verify_active_connections!">verify_active_connections!</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Verify active connections.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#view-class_method" title="view">view</a></span><span class='args'>(name, *columns)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Macro for defining a named view to a list of columns.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#view_names-class_method" title="view_names">view_names</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Get a list of view names defined by <tt><a href="#view-class_method" title="view">view</a></tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#views-class_method" title="views">views</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Get a list of all the views defined by the <tt><a href="#view-class_method" title="view">view</a></tt> macro for the model.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#views_hash-class_method" title="views_hash">views_hash</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Get the full hash of views consisting of the name as keys, and the
<tt><a href="ConnectionAdapters/View.html" title="ConnectionAdapters::View">ConnectionAdapters::View</a></tt> views.
</p>

        
      </td>
    </tr>
  
</table>
<div class="inherited">
  
  <div>
    <h1>Public Class Methods Inherited from <a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a></h1>
    <p><span class='name'><a href="AbstractBase.html#%3D%3D%3D-class_method" title="===">===</a></span>, <span class='name'><a href="AbstractBase.html#accessible_attributes-class_method" title="accessible_attributes">accessible_attributes</a></span>, <span class='name'><a href="AbstractBase.html#attr_accessible-class_method" title="attr_accessible">attr_accessible</a></span>, <span class='name'><a href="AbstractBase.html#attr_create_accessible-class_method" title="attr_create_accessible">attr_create_accessible</a></span>, <span class='name'><a href="AbstractBase.html#attr_protected-class_method" title="attr_protected">attr_protected</a></span>, <span class='name'><a href="AbstractBase.html#attr_readonly-class_method" title="attr_readonly">attr_readonly</a></span>, <span class='name'><a href="AbstractBase.html#benchmark-class_method" title="benchmark">benchmark</a></span>, <span class='name'><a href="AbstractBase.html#column_methods_hash-class_method" title="column_methods_hash">column_methods_hash</a></span>, <span class='name'><a href="AbstractBase.html#column_names-class_method" title="column_names">column_names</a></span>, <span class='name'><a href="AbstractBase.html#columns-class_method" title="columns">columns</a></span>, <span class='name'><a href="AbstractBase.html#columns_hash-class_method" title="columns_hash">columns_hash</a></span>, <span class='name'><a href="AbstractBase.html#content_columns-class_method" title="content_columns">content_columns</a></span>, <span class='name'><a href="AbstractBase.html#create_accessible_attributes-class_method" title="create_accessible_attributes">create_accessible_attributes</a></span>, <span class='name'><a href="AbstractBase.html#create_column-class_method" title="create_column">create_column</a></span>, <span class='name'><a href="AbstractBase.html#human_attribute_name-class_method" title="human_attribute_name">human_attribute_name</a></span>, <span class='name'><a href="AbstractBase.html#instantiate-class_method" title="instantiate">instantiate</a></span>, <span class='name'><a href="AbstractBase.html#protected_attributes-class_method" title="protected_attributes">protected_attributes</a></span>, <span class='name'><a href="AbstractBase.html#quote_value-class_method" title="quote_value">quote_value</a></span>, <span class='name'><a href="AbstractBase.html#read_methods-class_method" title="read_methods">read_methods</a></span>, <span class='name'><a href="AbstractBase.html#readonly_attributes-class_method" title="readonly_attributes">readonly_attributes</a></span>, <span class='name'><a href="AbstractBase.html#reset_subclasses-class_method" title="reset_subclasses">reset_subclasses</a></span>, <span class='name'><a href="AbstractBase.html#silence-class_method" title="silence">silence</a></span>, <span class='name'><a href="AbstractBase.html#store_primary_key%3F-class_method" title="store_primary_key?">store_primary_key?</a></span>, <span class='name'><a href="AbstractBase.html#undecorated_table_name-class_method" title="undecorated_table_name">undecorated_table_name</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#%5B%5D-instance_method" title="#[]">#[]</a></span><span class='args'>(attr_name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#connection-instance_method" title="#connection">#connection</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the connection currently associated with the class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#destroy-instance_method" title="#destroy">#destroy</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#8217;t be persisted).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#is_loaded%3F-instance_method" title="#is_loaded?">#is_loaded?</a></span><span class='args'>(name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#new_record%3F-instance_method" title="#new_record?">#new_record?</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns true if this object hasn&#8217;t been saved yet &#8212; that is, a
record for the object doesn&#8217;t exist yet.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#read_attribute-instance_method" title="#read_attribute">#read_attribute</a></span><span class='args'>(attr_name, options = {})</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#read_family_attributes-instance_method" title="#read_family_attributes">#read_family_attributes</a></span><span class='args'>(attr_name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Read an attribute that defines a column family.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#save-instance_method" title="#save">#save</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <ul>
<li>No record exists: Creates a new record with values matching those of the
object attributes.

</li>
</ul>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#save%21-instance_method" title="#save!">#save!</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Attempts to save the record, but instead of just returning false if it
couldn&#8217;t happen, it raises a RecordNotSaved exception.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#set_loaded-instance_method" title="#set_loaded">#set_loaded</a></span><span class='args'>(name)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#update_attribute-instance_method" title="#update_attribute">#update_attribute</a></span><span class='args'>(name, value)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Updates a single attribute and saves the record.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#update_attributes-instance_method" title="#update_attributes">#update_attributes</a></span><span class='args'>(attributes)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Updates all the attributes from the passed-in Hash and saves the record.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#update_attributes%21-instance_method" title="#update_attributes!">#update_attributes!</a></span><span class='args'>(attributes)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        <p>
Updates an object just like Base.
</p>

        
      </td>
    </tr>
  
</table>
<div class="inherited">
  
  <div>
    <h1>Public Instance Methods Inherited from <a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a></h1>
    <p><span class='name'><a href="AbstractBase.html#%3D%3D-instance_method" title="==">==</a></span>, <span class='name'><a href="AbstractBase.html#%5B%5D%3D-instance_method" title="[]=">[]=</a></span>, <span class='name'><a href="AbstractBase.html#all_attributes_loaded%3D-instance_method" title="all_attributes_loaded=">all_attributes_loaded=</a></span>, <span class='name'><a href="AbstractBase.html#all_attributes_loaded%3F-instance_method" title="all_attributes_loaded?">all_attributes_loaded?</a></span>, <span class='name'><a href="AbstractBase.html#attribute_for_inspect-instance_method" title="attribute_for_inspect">attribute_for_inspect</a></span>, <span class='name'><a href="AbstractBase.html#attribute_names-instance_method" title="attribute_names">attribute_names</a></span>, <span class='name'><a href="AbstractBase.html#attribute_present%3F-instance_method" title="attribute_present?">attribute_present?</a></span>, <span class='name'><a href="AbstractBase.html#attributes-instance_method" title="attributes">attributes</a></span>, <span class='name'><a href="AbstractBase.html#attributes%3D-instance_method" title="attributes=">attributes=</a></span>, <span class='name'><a href="AbstractBase.html#column_for_attribute-instance_method" title="column_for_attribute">column_for_attribute</a></span>, <span class='name'><a href="AbstractBase.html#deserialize-instance_method" title="deserialize">deserialize</a></span>, <span class='name'><a href="AbstractBase.html#eql%3F-instance_method" title="eql?">eql?</a></span>, <span class='name'><a href="AbstractBase.html#freeze-instance_method" title="freeze">freeze</a></span>, <span class='name'><a href="AbstractBase.html#frozen%3F-instance_method" title="frozen?">frozen?</a></span>, <span class='name'><a href="AbstractBase.html#has_attribute%3F-instance_method" title="has_attribute?">has_attribute?</a></span>, <span class='name'><a href="AbstractBase.html#hash-instance_method" title="hash">hash</a></span>, <span class='name'><a href="AbstractBase.html#human_attribute_name-instance_method" title="human_attribute_name">human_attribute_name</a></span>, <span class='name'><a href="AbstractBase.html#id-instance_method" title="id">id</a></span>, <span class='name'><a href="AbstractBase.html#id%3D-instance_method" title="id=">id=</a></span>, <span class='name'><a href="AbstractBase.html#inspect-instance_method" title="inspect">inspect</a></span>, <span class='name'><a href="AbstractBase.html#preinitialize-instance_method" title="preinitialize">preinitialize</a></span>, <span class='name'><a href="AbstractBase.html#quoted_id-instance_method" title="quoted_id">quoted_id</a></span>, <span class='name'><a href="AbstractBase.html#readonly%21-instance_method" title="readonly!">readonly!</a></span>, <span class='name'><a href="AbstractBase.html#readonly%3F-instance_method" title="readonly?">readonly?</a></span>, <span class='name'><a href="AbstractBase.html#reload-instance_method" title="reload">reload</a></span>, <span class='name'><a href="AbstractBase.html#respond_to%3F-instance_method" title="respond_to?">respond_to?</a></span>, <span class='name'><a href="AbstractBase.html#safe_attributes%3D-instance_method" title="safe_attributes=">safe_attributes=</a></span>, <span class='name'><a href="AbstractBase.html#to_s-instance_method" title="to_s">to_s</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h1>Public Instance Methods Included from <a href="AbstractBase.html" title="BigRecord::AbstractBase">BigRecord::AbstractBase</a></h1>
    <p><span class='name'><a href="AbstractBase.html#%3D%3D-instance_method" title="==">==</a></span>, <span class='name'><a href="AbstractBase.html#%5B%5D%3D-instance_method" title="[]=">[]=</a></span>, <span class='name'><a href="AbstractBase.html#all_attributes_loaded%3D-instance_method" title="all_attributes_loaded=">all_attributes_loaded=</a></span>, <span class='name'><a href="AbstractBase.html#all_attributes_loaded%3F-instance_method" title="all_attributes_loaded?">all_attributes_loaded?</a></span>, <span class='name'><a href="AbstractBase.html#attribute_for_inspect-instance_method" title="attribute_for_inspect">attribute_for_inspect</a></span>, <span class='name'><a href="AbstractBase.html#attribute_names-instance_method" title="attribute_names">attribute_names</a></span>, <span class='name'><a href="AbstractBase.html#attribute_present%3F-instance_method" title="attribute_present?">attribute_present?</a></span>, <span class='name'><a href="AbstractBase.html#attributes-instance_method" title="attributes">attributes</a></span>, <span class='name'><a href="AbstractBase.html#attributes%3D-instance_method" title="attributes=">attributes=</a></span>, <span class='name'><a href="AbstractBase.html#column_for_attribute-instance_method" title="column_for_attribute">column_for_attribute</a></span>, <span class='name'><a href="AbstractBase.html#deserialize-instance_method" title="deserialize">deserialize</a></span>, <span class='name'><a href="AbstractBase.html#eql%3F-instance_method" title="eql?">eql?</a></span>, <span class='name'><a href="AbstractBase.html#freeze-instance_method" title="freeze">freeze</a></span>, <span class='name'><a href="AbstractBase.html#frozen%3F-instance_method" title="frozen?">frozen?</a></span>, <span class='name'><a href="AbstractBase.html#has_attribute%3F-instance_method" title="has_attribute?">has_attribute?</a></span>, <span class='name'><a href="AbstractBase.html#hash-instance_method" title="hash">hash</a></span>, <span class='name'><a href="AbstractBase.html#human_attribute_name-instance_method" title="human_attribute_name">human_attribute_name</a></span>, <span class='name'><a href="AbstractBase.html#id-instance_method" title="id">id</a></span>, <span class='name'><a href="AbstractBase.html#id%3D-instance_method" title="id=">id=</a></span>, <span class='name'><a href="AbstractBase.html#inspect-instance_method" title="inspect">inspect</a></span>, <span class='name'><a href="AbstractBase.html#preinitialize-instance_method" title="preinitialize">preinitialize</a></span>, <span class='name'><a href="AbstractBase.html#quoted_id-instance_method" title="quoted_id">quoted_id</a></span>, <span class='name'><a href="AbstractBase.html#readonly%21-instance_method" title="readonly!">readonly!</a></span>, <span class='name'><a href="AbstractBase.html#readonly%3F-instance_method" title="readonly?">readonly?</a></span>, <span class='name'><a href="AbstractBase.html#reload-instance_method" title="reload">reload</a></span>, <span class='name'><a href="AbstractBase.html#respond_to%3F-instance_method" title="respond_to?">respond_to?</a></span>, <span class='name'><a href="AbstractBase.html#safe_attributes%3D-instance_method" title="safe_attributes=">safe_attributes=</a></span>, <span class='name'><a href="AbstractBase.html#to_s-instance_method" title="to_s">to_s</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails class public">
  <h1>Public Class Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>active_connection_name</h3>
</div><div id="active_connection_name-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>active_connection_name</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


54
55
56
57
58
59
60
61
62
63</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 54</span>

<span class='def def kw'>def</span> <span class='active_connection_name identifier id'>active_connection_name</span> 
  <span class='@active_connection_name ivar id'>@active_connection_name</span> <span class='opasgn op'>||=</span>
     <span class='if if kw'>if</span> <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='@@defined_connections ivar id'>@@defined_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
       <span class='name identifier id'>name</span>
     <span class='elsif elsif kw'>elsif</span> <span class='self self kw'>self</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
       <span class='nil nil kw'>nil</span>
     <span class='else else kw'>else</span>
       <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='active_connection_name identifier id'>active_connection_name</span>
     <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>allow_concurrency=</h3>
</div><div id="allow_concurrency=-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>allow_concurrency=</span><span class='args'>(threaded)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
set concurrency support flag (not thread safe, like most of the methods in
this file)
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


41
42
43
44
45
46
47
48
49
50
51
52</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 41</span>

<span class='def def kw'>def</span> <span class='allow_concurrency= identifier id'>allow_concurrency=</span><span class='lparen token'>(</span><span class='threaded identifier id'>threaded</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;allow_concurrency=#{threaded}&quot;</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='@@allow_concurrency ivar id'>@@allow_concurrency</span> <span class='eq op'>==</span> <span class='threaded identifier id'>threaded</span>
  <span class='clear_all_cached_connections! fid id'>clear_all_cached_connections!</span>
  <span class='@@allow_concurrency ivar id'>@@allow_concurrency</span> <span class='assign token'>=</span> <span class='threaded identifier id'>threaded</span>
  <span class='method_prefix identifier id'>method_prefix</span> <span class='assign token'>=</span> <span class='threaded identifier id'>threaded</span> <span class='integer val'>? </span><span class='string val'>&quot;thread_safe&quot;</span> <span class='colon op'>:</span> <span class='string val'>&quot;single_threaded&quot;</span>
  <span class='sing identifier id'>sing</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span><span class='semicolon token'>;</span> <span class='self self kw'>self</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span><span class='rparen token'>)</span>
  <span class='lbrack token'>[</span><span class='symbol val'>:active_connections</span><span class='comma token'>,</span> <span class='symbol val'>:scoped_methods</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='method identifier id'>method</span><span class='bitor op'>|</span>
    <span class='sing identifier id'>sing</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:alias_method</span><span class='comma token'>,</span> <span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{method_prefix}_#{method}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='log_connections identifier id'>log_connections</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>base_class</h3>
</div><div id="base_class-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'><tt>Class</tt></span>
      <span class='name'>base_class</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Class</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The base class which inherits BigRecord::Base directly.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


413
414
415</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 413</span>

<span class='def def kw'>def</span> <span class='base_class identifier id'>base_class</span>
  <span class='lparen token'>(</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='self self kw'>self</span> <span class='colon op'>:</span> <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='base_class identifier id'>base_class</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear_active_connection_name</h3>
</div><div id="clear_active_connection_name-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>clear_active_connection_name</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


65
66
67
68</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 65</span>

<span class='def def kw'>def</span> <span class='clear_active_connection_name identifier id'>clear_active_connection_name</span> 
  <span class='@active_connection_name ivar id'>@active_connection_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='subclasses identifier id'>subclasses</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='bitor op'>|</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='clear_active_connection_name identifier id'>clear_active_connection_name</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear_active_connections!</h3>
</div><div id="clear_active_connections!-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>clear_active_connections!</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Clears the cache which maps classes to connections.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


84
85
86
87
88</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 84</span>

<span class='def def kw'>def</span> <span class='clear_active_connections! fid id'>clear_active_connections!</span>
  <span class='clear_cache! fid id'>clear_cache!</span><span class='lparen token'>(</span><span class='@@active_connections ivar id'>@@active_connections</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='conn identifier id'>conn</span><span class='bitor op'>|</span>
    <span class='conn identifier id'>conn</span><span class='dot token'>.</span><span class='disconnect! fid id'>disconnect!</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear_reloadable_connections!</h3>
</div><div id="clear_reloadable_connections!-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>clear_reloadable_connections!</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Clears the cache which maps classes
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


91
92
93
94
95
96
97
98</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 91</span>

<span class='def def kw'>def</span> <span class='clear_reloadable_connections! fid id'>clear_reloadable_connections!</span>
  <span class='@@active_connections ivar id'>@@active_connections</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='conn identifier id'>conn</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='conn identifier id'>conn</span><span class='dot token'>.</span><span class='requires_reloading? fid id'>requires_reloading?</span>
      <span class='conn identifier id'>conn</span><span class='dot token'>.</span><span class='disconnect! fid id'>disconnect!</span>
      <span class='@@active_connections ivar id'>@@active_connections</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>column</h3>
</div><div id="column-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>column</span><span class='args'>(name, type, options = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>AbstractBase#column</tt>
      </span>
    </dd>
  </dl>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


469
470
471
472
473
474</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 469</span>

<span class='def def kw'>def</span> <span class='column identifier id'>column</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{self.default_family}:#{name}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='match op'>=~</span> <span class='regexp val'>/:/</span><span class='rparen token'>)</span>

  <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>columns_to_find</h3>
</div><div id="columns_to_find-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>columns_to_find</span><span class='args'>(options = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Return the list of fully qualified column names, i.e.
[&quot;family:qualifier&quot;].
</p>
<p>
Returns the column names based on the options argument in order of
:columns,then :view, i.e. disregards :view if :columns is defined.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>Options Hash <tt>options</tt></dt>
<dd>
  <div class="option">
    <table>
      <tr>
        <th class="name">Key Name</th>
        <th class="default">Default Value</th>
        <th class="type">Accepted Types</th>
        <th class="desc">Description</th>
      </tr>
      
        <tr>
          <td class="name">:columns</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>Array&lt;String, Symbol></tt>]</td>
          <td class="desc"><p>
List of fully qualified column names or column aliases.
</p>
</td>
        </tr>
      
        <tr>
          <td class="name">:view</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>String</tt>, <tt>Symbol</tt>]</td>
          <td class="desc"><p>
The name of the view as defined with <tt><a href="#view-class_method" title="view">view</a></tt>.
</p>
</td>
        </tr>
      
    </table>
  </div>
</dd>

    
  
  </dl>
</div>
</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 498</span>

<span class='def def kw'>def</span> <span class='columns_to_find identifier id'>columns_to_find</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='c identifier id'>c</span> <span class='assign token'>=</span>
    <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:columns</span><span class='rbrack token'>]</span>
      <span class='column_list identifier id'>column_list</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:columns</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column_name identifier id'>column_name</span><span class='bitor op'>|</span>
        <span class='comment val'># If the column name provided is a full name, i.e. includes column family and qualifier,</span>
        <span class='comment val'># then add it to the list.</span>
        <span class='if if kw'>if</span> <span class='column_name identifier id'>column_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/:/</span>
          <span class='column_list identifier id'>column_list</span> <span class='lshft op'>&lt;&lt;</span> <span class='column_name identifier id'>column_name</span>

        <span class='comment val'># Otherwise, it's probably an alias and we need to check that.</span>
        <span class='else else kw'>else</span>
          <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='column identifier id'>column</span><span class='bitor op'>|</span> <span class='column_list identifier id'>column_list</span> <span class='lshft op'>&lt;&lt;</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='if if_mod kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='alias identifier id'>alias</span> <span class='eq op'>==</span> <span class='column_name identifier id'>column_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrace token'>}</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='column_list identifier id'>column_list</span>
    <span class='elsif elsif kw'>elsif</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Unknown view: #{options[:view]}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='views_hash identifier id'>views_hash</span><span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='symbol val'>:all</span>
        <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{default_family}:&quot;</span><span class='rbrack token'>]</span>
      <span class='else else kw'>else</span>
        <span class='views_hash identifier id'>views_hash</span><span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='column_names identifier id'>column_names</span>
      <span class='end end kw'>end</span>
    <span class='elsif elsif kw'>elsif</span> <span class='views_hash identifier id'>views_hash</span><span class='lbrack token'>[</span><span class='symbol val'>:default</span><span class='rbrack token'>]</span>
      <span class='views_hash identifier id'>views_hash</span><span class='lbrack token'>[</span><span class='symbol val'>:default</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='column_names identifier id'>column_names</span>
    <span class='else else kw'>else</span>
      <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{default_family}:&quot;</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='c identifier id'>c</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='eq op'>==</span> <span class='string val'>&quot;id&quot;</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connected?</h3>
</div><div id="connected?-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>connected?</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns true if a connection that&#8217;s accessible to this class have
already been opened.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


239
240
241</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 239</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connected? fid id'>connected?</span>
  <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='active_connection_name identifier id'>active_connection_name</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='true true kw'>true</span> <span class='colon op'>:</span> <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connection</h3>
</div><div id="connection-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>connection</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the connection currently associated with the class. This can also
be used to &quot;borrow&quot; the connection to do database work unrelated
to any of the specific Active Records.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


73
74
75
76
77
78
79
80
81</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 73</span>

<span class='def def kw'>def</span> <span class='connection identifier id'>connection</span>
  <span class='if if kw'>if</span> <span class='@active_connection_name ivar id'>@active_connection_name</span> <span class='andop op'>&amp;&amp;</span> <span class='lparen token'>(</span><span class='conn identifier id'>conn</span> <span class='assign token'>=</span> <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='@active_connection_name ivar id'>@active_connection_name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='conn identifier id'>conn</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># retrieve_connection sets the cache key.</span>
    <span class='conn identifier id'>conn</span> <span class='assign token'>=</span> <span class='retrieve_connection identifier id'>retrieve_connection</span>
    <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='@active_connection_name ivar id'>@active_connection_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='conn identifier id'>conn</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connection=</h3>
</div><div id="connection=-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>connection=</span><span class='args'>(spec)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Set the connection for the class.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


257
258
259
260
261
262
263
264
265
266
267
268</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 257</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='spec identifier id'>spec</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='if if kw'>if</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='AbstractAdapter constant id'>AbstractAdapter</span><span class='rparen token'>)</span>
    <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='spec identifier id'>spec</span>
  <span class='elsif elsif kw'>elsif</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='ConnectionSpecification constant id'>ConnectionSpecification</span><span class='rparen token'>)</span>
    <span class='config identifier id'>config</span> <span class='assign token'>=</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='dot token'>.</span><span class='reverse_merge identifier id'>reverse_merge</span><span class='lparen token'>(</span><span class='symbol val'>:allow_concurrency</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@@allow_concurrency ivar id'>@@allow_concurrency</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='adapter_method identifier id'>adapter_method</span><span class='comma token'>,</span> <span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='raise identifier id'>raise</span> <span class='ConnectionNotEstablished constant id'>ConnectionNotEstablished</span>
  <span class='else else kw'>else</span>
    <span class='establish_connection identifier id'>establish_connection</span> <span class='spec identifier id'>spec</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create</h3>
</div><div id="create-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>create</span><span class='args'>(attrs = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Creates an object, instantly saves it as a record (if the validation
permits it), and returns it. If the save fails under validations, the
unsaved object is still returned.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


310
311
312
313
314
315
316
317
318</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 310</span>

<span class='def def kw'>def</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='attrs identifier id'>attrs</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='attrs identifier id'>attrs</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='attrs identifier id'>attrs</span><span class='rparen token'>)</span>
    <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='save identifier id'>save</span>
    <span class='object identifier id'>object</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default_columns</h3>
</div><div id="default_columns-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>default_columns</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Default columns to create with the model, such as primary key.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


464
465
466</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 464</span>

<span class='def def kw'>def</span> <span class='default_columns identifier id'>default_columns</span>
  <span class='lbrace token'>{</span><span class='primary_key identifier id'>primary_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='Column constant id'>Column</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='primary_key identifier id'>primary_key</span><span class='comma token'>,</span> <span class='string val'>'string'</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default_family</h3>
</div><div id="default_family-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>default_family</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Get the default column family used to store attributes that have no column
family set explicitly.
</p>
<p>
Defaults to &quot;attribute&quot;
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


400
401
402</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 400</span>

<span class='def def kw'>def</span> <span class='default_family identifier id'>default_family</span>
  <span class='lparen token'>(</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='lparen token'>(</span><span class='@default_family ivar id'>@default_family</span> <span class='opasgn op'>||=</span> <span class='string val'>&quot;attribute&quot;</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='default_family identifier id'>default_family</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default_views</h3>
</div><div id="default_views-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>default_views</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Return the hash of default views which consist of all columns and the
:default named views.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


477
478
479</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 477</span>

<span class='def def kw'>def</span> <span class='default_views identifier id'>default_views</span>
  <span class='lbrace token'>{</span><span class='symbol val'>:all=</span><span class='gt op'>&gt;</span><span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='View constant id'>View</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'all'</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='symbol val'>:default=</span><span class='gt op'>&gt;</span><span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='View constant id'>View</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'default'</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>delete</span><span class='args'>(id)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Deletes the record with the given <tt>id</tt> without instantiating an
object first. If an array of ids is provided, all of them are deleted.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


345
346
347
348
349
350
351</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 345</span>

<span class='def def kw'>def</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_all</h3>
</div><div id="delete_all-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>delete_all</span><span class='args'>(conditions = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Deletes all the records that match the <tt>condition</tt> without
instantiating the objects first (and hence not calling the destroy method).
Example:
</p>
<pre class="code">
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='delete_all identifier id'>delete_all</span> <span class='string val'>&quot;person_id = 5 AND (category = 'Something' OR category = 'Else')&quot;</span>
</pre>
<p>
TODO: take into consideration the conditions
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


378
379
380
381
382</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 378</span>

<span class='def def kw'>def</span> <span class='delete_all identifier id'>delete_all</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='get_consecutive_rows identifier id'>get_consecutive_rows</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{default_family}:&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='lbrack token'>[</span><span class='string val'>&quot;id&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy</h3>
</div><div id="destroy-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>destroy</span><span class='args'>(id)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Destroys the record with the given <tt>id</tt> by instantiating the object
and calling #destroy (all the callbacks are the triggered). If an array of
ids is provided, all of them are destroyed.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


355
356
357</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 355</span>

<span class='def def kw'>def</span> <span class='destroy identifier id'>destroy</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='destroy identifier id'>destroy</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='colon op'>:</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='destroy identifier id'>destroy</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy_all</h3>
</div><div id="destroy_all-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>destroy_all</span><span class='args'>(conditions = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Destroys the objects for all the records that match the <tt>condition</tt>
by instantiating each object and calling the destroy method. Example:
</p>
<pre class="code">
  <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='destroy_all identifier id'>destroy_all</span> <span class='string val'>&quot;last_login &lt; '2004-04-04'&quot;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


369
370
371</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 369</span>

<span class='def def kw'>def</span> <span class='destroy_all identifier id'>destroy_all</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='conditions identifier id'>conditions</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='object identifier id'>object</span><span class='bitor op'>|</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='destroy identifier id'>destroy</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>establish_connection</h3>
</div><div id="establish_connection-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>establish_connection</span><span class='args'>(spec = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Establishes the connection to the database. Accepts a hash as input where
the :adapter key must be specified with the name of a database adapter (in
lower-case) example for regular databases (MySQL, Postgresql, etc):
</p>
<pre class="code">
  <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span>
    <span class='symbol val'>:adapter</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;mysql&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:host</span>     <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;localhost&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:username</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;myuser&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:password</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;mypass&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:database</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;somedatabase&quot;</span>
  <span class='rparen token'>)</span>
</pre>
<p>
Example for SQLite database:
</p>
<pre class="code">
  <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span>
    <span class='symbol val'>:adapter</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;sqlite&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:database</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;path/to/dbfile&quot;</span>
  <span class='rparen token'>)</span>
</pre>
<p>
Also accepts keys as strings (for parsing from yaml for example):
</p>
<pre class="code">
  <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span>
    <span class='string val'>&quot;adapter&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;sqlite&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;database&quot;</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;path/to/dbfile&quot;</span>
  <span class='rparen token'>)</span>
</pre>
<p>
The exceptions AdapterNotSpecified, AdapterNotFound and ArgumentError may
be returned on an error.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 191</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span><span class='spec identifier id'>spec</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='spec identifier id'>spec</span>
    <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
      <span class='raise identifier id'>raise</span> <span class='AdapterNotSpecified constant id'>AdapterNotSpecified</span> <span class='unless unless_mod kw'>unless</span> <span class='defined? defined kw'>defined?</span> <span class='RAILS_ENV constant id'>RAILS_ENV</span>
      <span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span><span class='RAILS_ENV constant id'>RAILS_ENV</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='ConnectionSpecification constant id'>ConnectionSpecification</span>
      <span class='clear_active_connection_name identifier id'>clear_active_connection_name</span>
      <span class='@active_connection_name ivar id'>@active_connection_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
      <span class='@@defined_connections ivar id'>@@defined_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='spec identifier id'>spec</span>
    <span class='when when kw'>when</span> <span class='Symbol constant id'>Symbol</span><span class='comma token'>,</span> <span class='String constant id'>String</span>
      <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span> <span class='assign token'>=</span> <span class='configurations identifier id'>configurations</span><span class='lbrack token'>[</span><span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
        <span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='AdapterNotSpecified constant id'>AdapterNotSpecified</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{spec} database is not configured&quot;</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='spec identifier id'>spec</span> <span class='assign token'>=</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='symbolize_keys identifier id'>symbolize_keys</span>
      <span class='unless unless kw'>unless</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='symbol val'>:adapter</span><span class='rparen token'>)</span> <span class='then then kw'>then</span> <span class='raise identifier id'>raise</span> <span class='AdapterNotSpecified constant id'>AdapterNotSpecified</span><span class='comma token'>,</span> <span class='string val'>&quot;database configuration does not specify adapter&quot;</span> <span class='end end kw'>end</span>
      <span class='adapter_method identifier id'>adapter_method</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{spec[:adapter]}_connection&quot;</span>
      <span class='unless unless kw'>unless</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='adapter_method identifier id'>adapter_method</span><span class='rparen token'>)</span> <span class='then then kw'>then</span> <span class='raise identifier id'>raise</span> <span class='AdapterNotFound constant id'>AdapterNotFound</span><span class='comma token'>,</span> <span class='dstring node'>&quot;database configuration specifies nonexistent #{spec[:adapter]} adapter&quot;</span> <span class='end end kw'>end</span>
      <span class='remove_connection identifier id'>remove_connection</span>
      <span class='establish_connection identifier id'>establish_connection</span><span class='lparen token'>(</span><span class='ConnectionSpecification constant id'>ConnectionSpecification</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='spec identifier id'>spec</span><span class='comma token'>,</span> <span class='adapter_method identifier id'>adapter_method</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exists?</h3>
</div><div id="exists?-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>exists?</span><span class='args'>(id)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns true if the given <tt>id</tt> represents the primary key of a
record in the database, false otherwise.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


302
303
304
305
306</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 302</span>

<span class='def def kw'>def</span> <span class='exists? fid id'>exists?</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='rescue rescue kw'>rescue</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='BigRecordError constant id'>BigRecordError</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>families</h3>
</div><div id="families-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>families</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Return the list of families for this class
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


240
241
242</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 240</span>

<span class='def def kw'>def</span> <span class='families identifier id'>families</span>
  <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:family</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find</h3>
</div><div id="find-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>find</span><span class='args'>(*args)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 283</span>

<span class='def def kw'>def</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='extract_options_from_args! fid id'>extract_options_from_args!</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='validate_find_options identifier id'>validate_find_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='comment val'># set a default view</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
  <span class='else else kw'>else</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='symbol val'>:default</span>
  <span class='end end kw'>end</span>

  <span class='case case kw'>case</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:first</span> <span class='then then kw'>then</span> <span class='find_every identifier id'>find_every</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:all</span>   <span class='then then kw'>then</span> <span class='find_every identifier id'>find_every</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>             <span class='find_from_ids identifier id'>find_from_ids</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_all_by_id</h3>
</div><div id="find_all_by_id-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>find_all_by_id</span><span class='args'>(ids, options = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


481
482
483
484
485
486
487
488
489</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 481</span>

<span class='def def kw'>def</span> <span class='find_all_by_id identifier id'>find_all_by_id</span><span class='lparen token'>(</span><span class='ids identifier id'>ids</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='result identifier id'>result</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='bitor op'>|</span>
    <span class='begin begin kw'>begin</span>
      <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='find_one identifier id'>find_one</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='RecordNotFound constant id'>RecordNotFound</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='end end kw'>end</span>
    <span class='result identifier id'>result</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hbase_connection</h3>
</div><div id="hbase_connection-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>hbase_connection</span><span class='args'>(config)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Establishes a connection to the database that&#8217;s used by all Active
Record objects.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/hbase_adapter.rb', line 22</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='hbase_connection identifier id'>hbase_connection</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span> <span class='comment val'># :nodoc:</span>
  <span class='config identifier id'>config</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='symbolize_keys identifier id'>symbolize_keys</span>

  <span class='zookeeper_host identifier id'>zookeeper_host</span>          <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:zookeeper_host</span><span class='rbrack token'>]</span>
  <span class='zookeeper_client_port identifier id'>zookeeper_client_port</span>   <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:zookeeper_client_port</span><span class='rbrack token'>]</span>
  <span class='drb_host identifier id'>drb_host</span>                <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:drb_host</span><span class='rbrack token'>]</span>
  <span class='drb_port identifier id'>drb_port</span>                <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:drb_port</span><span class='rbrack token'>]</span>

  <span class='hbase identifier id'>hbase</span> <span class='assign token'>=</span> <span class='BigRecordDriver constant id'>BigRecordDriver</span><span class='colon2 op'>::</span><span class='Client constant id'>Client</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span>

  <span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='HbaseAdapter constant id'>HbaseAdapter</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='hbase identifier id'>hbase</span><span class='comma token'>,</span> <span class='logger identifier id'>logger</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='zookeeper_host identifier id'>zookeeper_host</span><span class='comma token'>,</span> <span class='zookeeper_client_port identifier id'>zookeeper_client_port</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='config identifier id'>config</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inherited</h3>
</div><div id="inherited-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>inherited</span><span class='args'>(child)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


8
9
10
11
12
13</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 8</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='inherited identifier id'>inherited</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='@@subclasses ivar id'>@@subclasses</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@@subclasses ivar id'>@@subclasses</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='child identifier id'>child</span>
  <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='set_table_name identifier id'>set_table_name</span> <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='tableize identifier id'>tableize</span> <span class='if if_mod kw'>if</span> <span class='child identifier id'>child</span><span class='dot token'>.</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>log_connections</h3>
</div><div id="log_connections-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>log_connections</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
connection state logging
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


271
272
273
274
275
276
277</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 271</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='log_connections identifier id'>log_connections</span> 
  <span class='if if kw'>if</span> <span class='logger identifier id'>logger</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='dstring node'>&quot;Defined connections: #{@@defined_connections.inspect}&quot;</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='dstring node'>&quot;Active connections: #{active_connections.inspect}&quot;</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='dstring node'>&quot;Active connection name: #{@active_connection_name}&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>primary_key</h3>
</div><div id="primary_key-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>primary_key</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Return the name of the primary key. Defaults to &quot;id&quot;.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


235
236
237</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 235</span>

<span class='def def kw'>def</span> <span class='primary_key identifier id'>primary_key</span>
  <span class='@primary_key ivar id'>@primary_key</span> <span class='opasgn op'>||=</span> <span class='string val'>&quot;id&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_connection</h3>
</div><div id="remove_connection-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>remove_connection</span><span class='args'>(klass = self)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Remove the connection for this class. This will close the active connection
and the defined connection (if they exist). The result can be used as
argument for establish_connection, for easy re-establishing of the
connection.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


247
248
249
250
251
252
253
254</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 247</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='remove_connection identifier id'>remove_connection</span><span class='lparen token'>(</span><span class='klass identifier id'>klass</span><span class='assign token'>=</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='spec identifier id'>spec</span> <span class='assign token'>=</span> <span class='@@defined_connections ivar id'>@@defined_connections</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='konn identifier id'>konn</span> <span class='assign token'>=</span> <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='@@defined_connections ivar id'>@@defined_connections</span><span class='dot token'>.</span><span class='delete_if identifier id'>delete_if</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='spec identifier id'>spec</span> <span class='rbrace token'>}</span>
  <span class='active_connections identifier id'>active_connections</span><span class='dot token'>.</span><span class='delete_if identifier id'>delete_if</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='konn identifier id'>konn</span> <span class='rbrace token'>}</span>
  <span class='konn identifier id'>konn</span><span class='dot token'>.</span><span class='disconnect! fid id'>disconnect!</span> <span class='if if_mod kw'>if</span> <span class='konn identifier id'>konn</span>
  <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='config identifier id'>config</span> <span class='if if_mod kw'>if</span> <span class='spec identifier id'>spec</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>retrieve_connection</h3>
</div><div id="retrieve_connection-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>retrieve_connection</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Locate the connection of the nearest super class. This can be an active or
defined connections: if it is the latter, it will be opened and set as the
active connection for the class it was defined for (not necessarily the
current class).
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 220</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='retrieve_connection identifier id'>retrieve_connection</span> 
  <span class='comment val'># Name is nil if establish_connection hasn't been called for</span>
  <span class='comment val'># some class along the inheritance chain up to AR::Base yet.</span>
  <span class='if if kw'>if</span> <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='active_connection_name identifier id'>active_connection_name</span>
    <span class='if if kw'>if</span> <span class='conn identifier id'>conn</span> <span class='assign token'>=</span> <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
      <span class='comment val'># Verify the connection.</span>
      <span class='conn identifier id'>conn</span><span class='dot token'>.</span><span class='verify! fid id'>verify!</span><span class='lparen token'>(</span><span class='@@verification_timeout ivar id'>@@verification_timeout</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='spec identifier id'>spec</span> <span class='assign token'>=</span> <span class='@@defined_connections ivar id'>@@defined_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
      <span class='comment val'># Activate this connection specification.</span>
      <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='constantize identifier id'>constantize</span>
      <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span> <span class='assign token'>=</span> <span class='spec identifier id'>spec</span>
      <span class='conn identifier id'>conn</span> <span class='assign token'>=</span> <span class='active_connections identifier id'>active_connections</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='conn identifier id'>conn</span> <span class='or or kw'>or</span> <span class='raise identifier id'>raise</span> <span class='ConnectionNotEstablished constant id'>ConnectionNotEstablished</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>scan</h3>
</div><div id="scan-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>scan</span><span class='args'>(options = {}, &amp;code)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
HBase scanner utility &#8212; scans the table and executes code on each
record
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="examples">
  
    <h3>Example: <small></small></h3>
    <div class="docstring">
      <pre class="code">   <span class='Entity constant id'>Entity</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='symbol val'>:batch_size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>200</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{e.name} is a child!&quot;</span> <span class='if if_mod kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='rbrace token'>}</span>
</pre>
    </div>
  
</div>
<div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>Options Hash <tt>options</tt></dt>
<dd>
  <div class="option">
    <table>
      <tr>
        <th class="name">Key Name</th>
        <th class="default">Default Value</th>
        <th class="type">Accepted Types</th>
        <th class="desc">Description</th>
      </tr>
      
        <tr>
          <td class="name">:batch_size</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>Integer</tt>]</td>
          <td class="desc"><ul>
<li>number of records to retrieve from database with each scan iteration.

</li>
</ul>
</td>
        </tr>
      
        <tr>
          <td class="name">:code</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>Block</tt>]</td>
          <td class="desc"><ul>
<li>the code to execute (see example above for syntax)

</li>
</ul>
</td>
        </tr>
      
    </table>
  </div>
</dd>

    
  
  </dl>
</div>
</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 251</span>

<span class='def def kw'>def</span> <span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='code identifier id'>code</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='limit identifier id'>limit</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:batch_size</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='integer val'>100</span>

  <span class='items_processed identifier id'>items_processed</span> <span class='assign token'>=</span> <span class='integer val'>0</span>

  <span class='comment val'># add an extra record for defining the next offset without duplicating records</span>
  <span class='limit identifier id'>limit</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='last_row_id identifier id'>last_row_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='while while kw'>while</span> <span class='true true kw'>true</span>
    <span class='items identifier id'>items</span> <span class='assign token'>=</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='limit identifier id'>limit</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

    <span class='comment val'># set the new offset as the extra record</span>
    <span class='unless unless kw'>unless</span> <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='delete_at identifier id'>delete_at</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='last_row_id identifier id'>last_row_id</span>

      <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

      <span class='last_row_id identifier id'>last_row_id</span> <span class='assign token'>=</span> <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='id identifier id'>id</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:offset</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='last_row_id identifier id'>last_row_id</span>
      <span class='items_processed identifier id'>items_processed</span> <span class='opasgn op'>+=</span> <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='size identifier id'>size</span>

      <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
        <span class='code identifier id'>code</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='break break kw'>break</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_default_family</h3>
</div><div id="set_default_family-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>set_default_family</span><span class='args'>(name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Set the default column family used to store attributes that have no column
family set explicitly.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="examples">
  
    <h3>Example: <small></small></h3>
    <div class="docstring">
      <pre class="code">  <span class='set_default_family identifier id'>set_default_family</span> <span class='symbol val'>:attr</span>  <span class='comment val'># instead of using :attribute as the default.</span>
</pre>
    </div>
  
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


408
409
410</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 408</span>

<span class='def def kw'>def</span> <span class='set_default_family identifier id'>set_default_family</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@default_family ivar id'>@default_family</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_table_name</h3>
</div><div id="set_table_name-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>set_table_name</span><span class='args'>(name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


393
394
395</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 393</span>

<span class='def def kw'>def</span> <span class='set_table_name identifier id'>set_table_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@table_name ivar id'>@table_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>single_threaded_active_connections</h3>
</div><div id="single_threaded_active_connections-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>single_threaded_active_connections</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


29
30
31</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 29</span>

<span class='def def kw'>def</span> <span class='single_threaded_active_connections identifier id'>single_threaded_active_connections</span> 
  <span class='@@active_connections ivar id'>@@active_connections</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table_name</h3>
</div><div id="table_name-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>table_name</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


389
390
391</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 389</span>

<span class='def def kw'>def</span> <span class='table_name identifier id'>table_name</span>
  <span class='lparen token'>(</span><span class='superclass identifier id'>superclass</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@table_name ivar id'>@table_name</span> <span class='colon op'>:</span> <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='table_name identifier id'>table_name</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>thread_safe_active_connections</h3>
</div><div id="thread_safe_active_connections-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>thread_safe_active_connections</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Retrieve the connection cache.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


25
26
27</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 25</span>

<span class='def def kw'>def</span> <span class='thread_safe_active_connections identifier id'>thread_safe_active_connections</span> 
  <span class='@@active_connections ivar id'>@@active_connections</span><span class='lbrack token'>[</span><span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>truncate</h3>
</div><div id="truncate-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>truncate</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Truncate the table for this model
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


385
386
387</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 385</span>

<span class='def def kw'>def</span> <span class='truncate identifier id'>truncate</span>
  <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='truncate_table identifier id'>truncate_table</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update</h3>
</div><div id="update-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>update</span><span class='args'>(id, attributes)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Finds the record from the passed <tt>id</tt>, instantly saves it with the
passed <tt>attributes</tt> (if the validation permits it), and returns it.
If the save fails under validations, the unsaved object is still returned.
</p>
<p>
The arguments may also be given as arrays in which case the update method
is called for each pair of <tt>id</tt> and <tt>attributes</tt> and an array
of objects is returned.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="examples">
  
    <h3>Examples</h3>
    
    <dl>
      <dt>of updating one record:</dt>
      <dd class="docstring">
        <pre class="code">  <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='integer val'>15</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:user_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Samuel'</span><span class='comma token'>,</span> <span class='symbol val'>:group</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'expert'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>
      </dd>
    </dl>
    
    <dl>
      <dt>of updating multiple records:</dt>
      <dd class="docstring">
        <pre class="code">  <span class='people identifier id'>people</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='integer val'>1</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;first_name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;David&quot;</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='integer val'>2</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;first_name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Jeremy&quot;</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
  <span class='Person constant id'>Person</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='people identifier id'>people</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='comma token'>,</span> <span class='people identifier id'>people</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
</pre>
      </dd>
    </dl>
    
  
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


332
333
334
335
336
337
338
339
340
341</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 332</span>

<span class='def def kw'>def</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='idx identifier id'>idx</span> <span class='assign token'>=</span> <span class='integer val'>-1</span>
    <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='idx identifier id'>idx</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='idx identifier id'>idx</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
    <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='update_attributes identifier id'>update_attributes</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
    <span class='object identifier id'>object</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_all</h3>
</div><div id="update_all-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>update_all</span><span class='args'>(updates, conditions = nil)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Updates all records with the SET-part of an SQL update statement in
<tt>updates</tt> and returns an integer with the number of rows updated. A
subset of the records can be selected by specifying <tt>conditions</tt>.
Example:
</p>
<pre class="code">
  <span class='Billing constant id'>Billing</span><span class='dot token'>.</span><span class='update_all identifier id'>update_all</span> <span class='string val'>&quot;category = 'authorized', approved = 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;author = 'David'&quot;</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="NotImplemented.html" title="NotImplemented">NotImplemented</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


362
363
364</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 362</span>

<span class='def def kw'>def</span> <span class='update_all identifier id'>update_all</span><span class='lparen token'>(</span><span class='updates identifier id'>updates</span><span class='comma token'>,</span> <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplemented constant id'>NotImplemented</span><span class='comma token'>,</span> <span class='string val'>&quot;update_all&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>verify_active_connections!</h3>
</div><div id="verify_active_connections!-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>verify_active_connections!</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Verify active connections.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 101</span>

<span class='def def kw'>def</span> <span class='verify_active_connections! fid id'>verify_active_connections!</span> 
  <span class='if if kw'>if</span> <span class='@@allow_concurrency ivar id'>@@allow_concurrency</span>
    <span class='remove_stale_cached_threads! fid id'>remove_stale_cached_threads!</span><span class='lparen token'>(</span><span class='@@active_connections ivar id'>@@active_connections</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='conn identifier id'>conn</span><span class='bitor op'>|</span>
      <span class='conn identifier id'>conn</span><span class='dot token'>.</span><span class='disconnect! fid id'>disconnect!</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='active_connections identifier id'>active_connections</span><span class='dot token'>.</span><span class='each_value identifier id'>each_value</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='connection identifier id'>connection</span><span class='bitor op'>|</span>
    <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='verify! fid id'>verify!</span><span class='lparen token'>(</span><span class='@@verification_timeout ivar id'>@@verification_timeout</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>view</h3>
</div><div id="view-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>view</span><span class='args'>(name, *columns)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Macro for defining a named view to a list of columns.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="examples">
  
    <h3>Example: <small></small></h3>
    <div class="docstring">
      <pre class="code">  <span class='view identifier id'>view</span> <span class='symbol val'>:front_page</span><span class='comma token'>,</span> <span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='symbol val'>:description</span>
  <span class='view identifier id'>view</span> <span class='symbol val'>:summary</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;attribute:name&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;attribute:title&quot;</span><span class='rbrack token'>]</span>
</pre>
    </div>
  
</div>
<div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>Symbol</tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
Give it an arbitrary name.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Array&lt;String, Symbol></tt>]</span>
        <span class='name'>columns</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
List of columns to associate to this view. Can use column aliases or fully
qualified names.
</p>
</span>
      </dd>
    
  
  </dl>
</div>
</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


425
426
427
428
429
430
431
432
433</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 425</span>

<span class='def def kw'>def</span> <span class='view identifier id'>view</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='columns identifier id'>columns</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
  <span class='@views_hash ivar id'>@views_hash</span> <span class='opasgn op'>||=</span> <span class='default_views identifier id'>default_views</span>

  <span class='comment val'># The other variables that are cached and depend on @views_hash need to be reloaded</span>
  <span class='invalidate_views identifier id'>invalidate_views</span>

  <span class='@views_hash ivar id'>@views_hash</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='ConnectionAdapters constant id'>ConnectionAdapters</span><span class='colon2 op'>::</span><span class='View constant id'>View</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>view_names</h3>
</div><div id="view_names-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>view_names</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Get a list of view names defined by <tt><a href="#view-class_method" title="view">view</a></tt>.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


441
442
443</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 441</span>

<span class='def def kw'>def</span> <span class='view_names identifier id'>view_names</span>
  <span class='@view_names ivar id'>@view_names</span> <span class='opasgn op'>||=</span> <span class='views_hash identifier id'>views_hash</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>views</h3>
</div><div id="views-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>views</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Get a list of all the views defined by the <tt><a href="#view-class_method" title="view">view</a></tt> macro for the model.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


436
437
438</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 436</span>

<span class='def def kw'>def</span> <span class='views identifier id'>views</span>
  <span class='@views ivar id'>@views</span> <span class='opasgn op'>||=</span> <span class='views_hash identifier id'>views_hash</span><span class='dot token'>.</span><span class='values identifier id'>values</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>views_hash</h3>
</div><div id="views_hash-class_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>views_hash</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Get the full hash of views consisting of the name as keys, and the
<tt><a href="ConnectionAdapters/View.html" title="ConnectionAdapters::View">ConnectionAdapters::View</a></tt> views.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 446</span>

<span class='def def kw'>def</span> <span class='views_hash identifier id'>views_hash</span>
  <span class='unless unless kw'>unless</span> <span class='@all_views_hash ivar id'>@all_views_hash</span>
    <span class='comment val'># add default hbase columns</span>
    <span class='@all_views_hash ivar id'>@all_views_hash</span> <span class='assign token'>=</span>
      <span class='if if kw'>if</span> <span class='self self kw'>self</span> <span class='eq op'>==</span> <span class='BigRecord constant id'>BigRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span> <span class='comment val'># stop at Base</span>
         <span class='@views_hash ivar id'>@views_hash</span> <span class='assign token'>=</span> <span class='default_views identifier id'>default_views</span>
      <span class='else else kw'>else</span>
        <span class='if if kw'>if</span> <span class='@views_hash ivar id'>@views_hash</span>
          <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='views_hash identifier id'>views_hash</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='default_views identifier id'>default_views</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@views_hash ivar id'>@views_hash</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='views_hash identifier id'>views_hash</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='default_views identifier id'>default_views</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='@all_views_hash ivar id'>@all_views_hash</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div><div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="[]-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>[]</span><span class='args'>(attr_name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.new(2004, 12, 12)). (Alias for the
protected read_attribute method).
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


28
29
30
31
32
33
34</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 28</span>

<span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='attr_name identifier id'>attr_name</span><span class='dot token'>.</span><span class='ends_with? fid id'>ends_with?</span><span class='lparen token'>(</span><span class='string val'>&quot;:&quot;</span><span class='rparen token'>)</span>
    <span class='read_family_attributes identifier id'>read_family_attributes</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connection</h3>
</div><div id="connection-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>connection</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the connection currently associated with the class. This can also
be used to &quot;borrow&quot; the connection to do database work that
isn&#8217;t easily done without going straight to SQL.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


160
161
162</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/connection_adapters/abstract/connection_specification.rb', line 160</span>

<span class='def def kw'>def</span> <span class='connection identifier id'>connection</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy</h3>
</div><div id="destroy-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>destroy</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#8217;t be persisted).
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


163
164
165
166
167
168
169
170
171</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 163</span>

<span class='def def kw'>def</span> <span class='destroy identifier id'>destroy</span>
  <span class='unless unless kw'>unless</span> <span class='new_record? fid id'>new_record?</span>
    <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># FIXME: this currently doesn't work because we write the attributes everytime we read them</span>
  <span class='comment val'># which means that we cannot read the attributes of a deleted record... it's bad</span>
<span class='comment val'>#      freeze</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>is_loaded?</h3>
</div><div id="is_loaded?-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>is_loaded?</span><span class='args'>(name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


138
139
140
141</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 138</span>

<span class='def def kw'>def</span> <span class='is_loaded? fid id'>is_loaded?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@loaded_columns ivar id'>@loaded_columns</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@loaded_columns ivar id'>@loaded_columns</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>new_record?</h3>
</div><div id="new_record?-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>new_record?</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns true if this object hasn&#8217;t been saved yet &#8212; that is, a
record for the object doesn&#8217;t exist yet.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


145
146
147</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 145</span>

<span class='def def kw'>def</span> <span class='new_record? fid id'>new_record?</span>
  <span class='@new_record ivar id'>@new_record</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_attribute</h3>
</div><div id="read_attribute-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>read_attribute</span><span class='args'>(attr_name, options = {})</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &quot;2004-12-12&quot; in a data column
is cast to a date object, like Date.new(2004, 12, 12)).
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 38</span>

<span class='def def kw'>def</span> <span class='read_attribute identifier id'>read_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='attr_name identifier id'>attr_name</span> <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='column identifier id'>column</span>
    <span class='comment val'># First check if the attribute is already in the attributes hash</span>
    <span class='if if kw'>if</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>
      <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
    <span class='comment val'># Elsif the column exist, we try to lazy load it</span>
    <span class='elsif elsif kw'>elsif</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='is_loaded? fid id'>is_loaded?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='attr_name identifier id'>attr_name</span> <span class='neq op'>!=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='new_record? fid id'>new_record?</span>
      <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='all_attributes_loaded? fid id'>all_attributes_loaded?</span> <span class='and and kw'>and</span> <span class='attr_name identifier id'>attr_name</span> <span class='match op'>=~</span> <span class='dregexp node'>/\A#{self.class.default_family}:/</span>
        <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>
          <span class='comment val'># Normal behavior</span>

          <span class='comment val'># Retrieve the version of the attribute matching the current record version</span>
          <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:timestamp</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span><span class='dot token'>.</span><span class='to_bigrecord_timestamp identifier id'>to_bigrecord_timestamp</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='has_attribute? fid id'>has_attribute?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{self.class.default_family}:updated_at&quot;</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span>

          <span class='comment val'># get the content of the cell</span>
          <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>

          <span class='set_loaded identifier id'>set_loaded</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
          <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type_cast identifier id'>type_cast</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># Special request... don't keep it in the attributes hash</span>
          <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:timestamp</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span><span class='dot token'>.</span><span class='to_bigrecord_timestamp identifier id'>to_bigrecord_timestamp</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='has_attribute? fid id'>has_attribute?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{self.class.default_family}:updated_at&quot;</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span>

          <span class='comment val'># get the content of the cell</span>
          <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>

          <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:versions</span><span class='rbrack token'>]</span> <span class='and and kw'>and</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:versions</span><span class='rbrack token'>]</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
            <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type_cast identifier id'>type_cast</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
          <span class='else else kw'>else</span>
            <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type_cast identifier id'>type_cast</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_family_attributes</h3>
</div><div id="read_family_attributes-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>read_family_attributes</span><span class='args'>(attr_name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Read an attribute that defines a column family.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 84</span>

<span class='def def kw'>def</span> <span class='read_family_attributes identifier id'>read_family_attributes</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='attr_name identifier id'>attr_name</span> <span class='assign token'>=</span> <span class='attr_name identifier id'>attr_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='column_for_attribute identifier id'>column_for_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='column identifier id'>column</span>
    <span class='comment val'># First check if the attribute is already in the attributes hash</span>
    <span class='if if kw'>if</span> <span class='@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='@attributes ivar id'>@attributes</span><span class='lbrack token'>[</span><span class='attr_name identifier id'>attr_name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
        <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='rparen token'>)</span>
        <span class='casted_values identifier id'>casted_values</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
        <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='casted_values identifier id'>casted_values</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type_cast identifier id'>type_cast</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
        <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='casted_values identifier id'>casted_values</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>

    <span class='comment val'># Elsif the column exist, we try to lazy load it</span>
    <span class='elsif elsif kw'>elsif</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='is_loaded? fid id'>is_loaded?</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='attr_name identifier id'>attr_name</span> <span class='neq op'>!=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='new_record? fid id'>new_record?</span>
      <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='all_attributes_loaded? fid id'>all_attributes_loaded?</span> <span class='and and kw'>and</span> <span class='attr_name identifier id'>attr_name</span> <span class='match op'>=~</span> <span class='dregexp node'>/\A#{self.class.default_family}:/</span>
        <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
        <span class='comment val'># Retrieve the version of the attribute matching the current record version</span>
        <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:timestamp</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span><span class='dot token'>.</span><span class='to_bigrecord_timestamp identifier id'>to_bigrecord_timestamp</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='has_attribute? fid id'>has_attribute?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{self.class.default_family}:updated_at&quot;</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span>

        <span class='comment val'># get the content of the whole family</span>
        <span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='get_columns identifier id'>get_columns</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='attr_name identifier id'>attr_name</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='values identifier id'>values</span>
          <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='rparen token'>)</span>
          <span class='casted_values identifier id'>casted_values</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
          <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
            <span class='short_name identifier id'>short_name</span> <span class='assign token'>=</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;:&quot;</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
            <span class='casted_values identifier id'>casted_values</span><span class='lbrack token'>[</span><span class='short_name identifier id'>short_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type_cast identifier id'>type_cast</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='short_name identifier id'>short_name</span>
            <span class='set_loaded identifier id'>set_loaded</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
            <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='casted_values identifier id'>casted_values</span><span class='lbrack token'>[</span><span class='short_name identifier id'>short_name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='short_name identifier id'>short_name</span>
          <span class='end end kw'>end</span>
          <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='casted_values identifier id'>casted_values</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='set_loaded identifier id'>set_loaded</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
          <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='write_attribute identifier id'>write_attribute</span><span class='lparen token'>(</span><span class='attr_name identifier id'>attr_name</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>save</h3>
</div><div id="save-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>save</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <ul>
<li>No record exists: Creates a new record with values matching those of the
object attributes.

</li>
<li>A record does exist: Updates the record with values matching those of the
object attributes.

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


151
152
153</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 151</span>

<span class='def def kw'>def</span> <span class='save identifier id'>save</span>
  <span class='create_or_update identifier id'>create_or_update</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>save!</h3>
</div><div id="save!-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>save!</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Attempts to save the record, but instead of just returning false if it
couldn&#8217;t happen, it raises a RecordNotSaved exception
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


157
158
159</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 157</span>

<span class='def def kw'>def</span> <span class='save! fid id'>save!</span>
  <span class='create_or_update identifier id'>create_or_update</span> <span class='orop op'>||</span> <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='RecordNotSaved constant id'>RecordNotSaved</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_loaded</h3>
</div><div id="set_loaded-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>set_loaded</span><span class='args'>(name)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


133
134
135
136</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 133</span>

<span class='def def kw'>def</span> <span class='set_loaded identifier id'>set_loaded</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@loaded_columns ivar id'>@loaded_columns</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@loaded_columns ivar id'>@loaded_columns</span> <span class='lshft op'>&lt;&lt;</span> <span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_attribute</h3>
</div><div id="update_attribute-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>update_attribute</span><span class='args'>(name, value)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Updates a single attribute and saves the record. This is especially useful
for boolean flags on existing records. Note: This method is overwritten by
the Validation module that&#8217;ll make sure that updates made with this
method doesn&#8217;t get subjected to validation checks. Hence, attributes
can be updated even if the full object isn&#8217;t valid.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


176
177
178
179</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 176</span>

<span class='def def kw'>def</span> <span class='update_attribute identifier id'>update_attribute</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>'='</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='save identifier id'>save</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_attributes</h3>
</div><div id="update_attributes-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>update_attributes</span><span class='args'>(attributes)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Updates all the attributes from the passed-in Hash and saves the record. If
the object is invalid, the saving will fail and false will be returned.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


183
184
185
186</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 183</span>

<span class='def def kw'>def</span> <span class='update_attributes identifier id'>update_attributes</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span>
  <span class='save identifier id'>save</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_attributes!</h3>
</div><div id="update_attributes!-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>update_attributes!</span><span class='args'>(attributes)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section docstring">
  <p>
Updates an object just like Base.update_attributes but calls save! instead
of save so an exception is raised if the record is invalid.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


189
190
191
192</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/big_record/base.rb', line 189</span>

<span class='def def kw'>def</span> <span class='update_attributes! fid id'>update_attributes!</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span>
  <span class='save! fid id'>save!</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
    <div id="yard_info">
  Generated on Tuesday, November 10 2009 at 06:18:36 PM by 
  <abbr class="yard" title="Yay! A Ruby Documentation Tool"><a href="http://yard.soen.ca">YARD</a></abbr> 
  0.2.3.5 (ruby-1.8.7).
</div>

  </body>
</html>